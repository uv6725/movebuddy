(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var wc={exports:{}},bi={},_c={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),af=Symbol.for("react.portal"),uf=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),ff=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),gf=Symbol.for("react.memo"),vf=Symbol.for("react.lazy"),Ba=Symbol.iterator;function yf(e){return e===null||typeof e!="object"?null:(e=Ba&&e[Ba]||e["@@iterator"],typeof e=="function"?e:null)}var xc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kc=Object.assign,Sc={};function pr(e,t,n){this.props=e,this.context=t,this.refs=Sc,this.updater=n||xc}pr.prototype.isReactComponent={};pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jc(){}jc.prototype=pr.prototype;function Il(e,t,n){this.props=e,this.context=t,this.refs=Sc,this.updater=n||xc}var Dl=Il.prototype=new jc;Dl.constructor=Il;kc(Dl,pr.prototype);Dl.isPureReactComponent=!0;var Ha=Array.isArray,Ec=Object.prototype.hasOwnProperty,Ml={current:null},Cc={key:!0,ref:!0,__self:!0,__source:!0};function bc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ec.call(t,r)&&!Cc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ps,type:e,key:i,ref:o,props:s,_owner:Ml.current}}function wf(e,t){return{$$typeof:ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ps}function _f(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Va=/\/+/g;function Zi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_f(""+e.key):t.toString(36)}function Vs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ps:case af:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Zi(o,0):r,Ha(s)?(n="",e!=null&&(n=e.replace(Va,"$&/")+"/"),Vs(s,t,n,"",function(u){return u})):s!=null&&(zl(s)&&(s=wf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Va,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ha(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Zi(i,l);o+=Vs(i,t,n,a,s)}else if(a=yf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Zi(i,l++),o+=Vs(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ks(e,t,n){if(e==null)return e;var r=[],s=0;return Vs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function xf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Ws={transition:null},kf={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Ml};function Tc(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ks,forEach:function(e,t,n){ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ks(e,function(){t++}),t},toArray:function(e){return ks(e,function(t){return t})||[]},only:function(e){if(!zl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=pr;Q.Fragment=uf;Q.Profiler=df;Q.PureComponent=Il;Q.StrictMode=cf;Q.Suspense=mf;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kf;Q.act=Tc;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ml.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Ec.call(t,a)&&!Cc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ps,type:e.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(e){return e={$$typeof:ff,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hf,_context:e},e.Consumer=e};Q.createElement=bc;Q.createFactory=function(e){var t=bc.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:pf,render:e}};Q.isValidElement=zl;Q.lazy=function(e){return{$$typeof:vf,_payload:{_status:-1,_result:e},_init:xf}};Q.memo=function(e,t){return{$$typeof:gf,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};Q.unstable_act=Tc;Q.useCallback=function(e,t){return Oe.current.useCallback(e,t)};Q.useContext=function(e){return Oe.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Oe.current.useEffect(e,t)};Q.useId=function(){return Oe.current.useId()};Q.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Oe.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};Q.useRef=function(e){return Oe.current.useRef(e)};Q.useState=function(e){return Oe.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Oe.current.useTransition()};Q.version="18.3.1";_c.exports=Q;var b=_c.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=b,jf=Symbol.for("react.element"),Ef=Symbol.for("react.fragment"),Cf=Object.prototype.hasOwnProperty,bf=Sf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tf={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Cf.call(t,r)&&!Tf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jf,type:e,key:i,ref:o,props:s,_owner:bf.current}}bi.Fragment=Ef;bi.jsx=Nc;bi.jsxs=Nc;wc.exports=bi;var d=wc.exports,Pc={exports:{}},qe={},Oc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var z=T.length;T.push(D);e:for(;0<z;){var X=z-1>>>1,ue=T[X];if(0<s(ue,D))T[X]=D,T[z]=ue,z=X;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var D=T[0],z=T.pop();if(z!==D){T[0]=z;e:for(var X=0,ue=T.length,k=ue>>>1;X<k;){var L=2*(X+1)-1,K=T[L],V=L+1,B=T[V];if(0>s(K,z))V<ue&&0>s(B,K)?(T[X]=B,T[V]=z,X=V):(T[X]=K,T[L]=z,X=L);else if(V<ue&&0>s(B,z))T[X]=B,T[V]=z,X=V;else break e}}return D}function s(T,D){var z=T.sortIndex-D.sortIndex;return z!==0?z:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,f=3,v=!1,x=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=T)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function _(T){if(w=!1,g(T),!x)if(n(a)!==null)x=!0,hn(E);else{var D=n(u);D!==null&&It(_,D.startTime-T)}}function E(T,D){x=!1,w&&(w=!1,m(j),j=-1),v=!0;var z=f;try{for(g(D),h=n(a);h!==null&&(!(h.expirationTime>D)||T&&!xe());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var ue=X(h.expirationTime<=D);D=e.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(a)&&r(a),g(D)}else r(a);h=n(a)}if(h!==null)var k=!0;else{var L=n(u);L!==null&&It(_,L.startTime-D),k=!1}return k}finally{h=null,f=z,v=!1}}var $=!1,y=null,j=-1,G=5,M=-1;function xe(){return!(e.unstable_now()-M<G)}function xt(){if(y!==null){var T=e.unstable_now();M=T;var D=!0;try{D=y(!0,T)}finally{D?st():($=!1,y=null)}}else $=!1}var st;if(typeof p=="function")st=function(){p(xt)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,dn=ft.port2;ft.port1.onmessage=xt,st=function(){dn.postMessage(null)}}else st=function(){C(xt,0)};function hn(T){y=T,$||($=!0,st())}function It(T,D){j=C(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,hn(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var z=f;f=D;try{return T()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=f;f=T;try{return D()}finally{f=z}},e.unstable_scheduleCallback=function(T,D,z){var X=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,T){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=z+ue,T={id:c++,callback:D,priorityLevel:T,startTime:z,expirationTime:ue,sortIndex:-1},z>X?(T.sortIndex=z,t(u,T),n(a)===null&&T===n(u)&&(w?(m(j),j=-1):w=!0,It(_,z-X))):(T.sortIndex=ue,t(a,T),x||v||(x=!0,hn(E))),T},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(T){var D=f;return function(){var z=f;f=D;try{return T.apply(this,arguments)}finally{f=z}}}})($c);Oc.exports=$c;var Nf=Oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=b,Qe=Nf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rc=new Set,Jr={};function $n(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Jr[e]=t,e=0;e<t.length;e++)Rc.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=Object.prototype.hasOwnProperty,Of=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wa={},Ka={};function $f(e){return Lo.call(Ka,e)?!0:Lo.call(Wa,e)?!1:Of.test(e)?Ka[e]=!0:(Wa[e]=!0,!1)}function Rf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lf(e,t,n,r){if(t===null||typeof t>"u"||Rf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function Fl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ul,Fl);je[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ul,Fl);je[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ul,Fl);je[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bl(e,t,n,r){var s=je.hasOwnProperty(t)?je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lf(t,n,s,r)&&(n=null),r||s===null?$f(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var At=Pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Hl=Symbol.for("react.strict_mode"),Ao=Symbol.for("react.profiler"),Lc=Symbol.for("react.provider"),Ac=Symbol.for("react.context"),Vl=Symbol.for("react.forward_ref"),Io=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Wl=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Ic=Symbol.for("react.offscreen"),Qa=Symbol.iterator;function _r(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,eo;function Lr(e){if(eo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eo=t&&t[1]||""}return`
`+eo+e}var to=!1;function no(e,t){if(!e||to)return"";to=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{to=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lr(e):""}function Af(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=no(e.type,!1),e;case 11:return e=no(e.type.render,!1),e;case 1:return e=no(e.type,!0),e;default:return""}}function Mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case Un:return"Portal";case Ao:return"Profiler";case Hl:return"StrictMode";case Io:return"Suspense";case Do:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ac:return(e.displayName||"Context")+".Consumer";case Lc:return(e._context.displayName||"Context")+".Provider";case Vl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wl:return t=e.displayName||null,t!==null?t:Mo(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Mo(e(t))}catch{}}return null}function If(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(t);case 8:return t===Hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Df(e){var t=Dc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function js(e){e._valueTracker||(e._valueTracker=Df(e))}function Mc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zo(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zc(e,t){t=t.checked,t!=null&&Bl(e,"checked",t,!1)}function Uo(e,t){zc(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fo(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ga(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fo(e,t,n){(t!=="number"||ni(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ar=Array.isArray;function Xn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ja(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(Ar(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function Uc(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ya(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,Bc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mf=["Webkit","ms","Moz","O"];Object.keys(zr).forEach(function(e){Mf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zr[t]=zr[e]})});function Hc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zr.hasOwnProperty(e)&&zr[e]?(""+t).trim():t+"px"}function Vc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var zf=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if(zf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qo=null,Zn=null,er=null;function Xa(e){if(e=vs(e)){if(typeof Qo!="function")throw Error(S(280));var t=e.stateNode;t&&(t=$i(t),Qo(e.stateNode,e.type,t))}}function Wc(e){Zn?er?er.push(e):er=[e]:Zn=e}function Kc(){if(Zn){var e=Zn,t=er;if(er=Zn=null,Xa(e),t)for(e=0;e<t.length;e++)Xa(t[e])}}function Qc(e,t){return e(t)}function qc(){}var ro=!1;function Gc(e,t,n){if(ro)return e(t,n);ro=!0;try{return Qc(e,t,n)}finally{ro=!1,(Zn!==null||er!==null)&&(qc(),Kc())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var r=$i(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var qo=!1;if(Pt)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){qo=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{qo=!1}function Uf(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ur=!1,ri=null,si=!1,Go=null,Ff={onError:function(e){Ur=!0,ri=e}};function Bf(e,t,n,r,s,i,o,l,a){Ur=!1,ri=null,Uf.apply(Ff,arguments)}function Hf(e,t,n,r,s,i,o,l,a){if(Bf.apply(this,arguments),Ur){if(Ur){var u=ri;Ur=!1,ri=null}else throw Error(S(198));si||(si=!0,Go=u)}}function Rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Za(e){if(Rn(e)!==e)throw Error(S(188))}function Vf(e){var t=e.alternate;if(!t){if(t=Rn(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Za(s),e;if(i===r)return Za(s),t;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Yc(e){return e=Vf(e),e!==null?Xc(e):null}function Xc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xc(e);if(t!==null)return t;e=e.sibling}return null}var Zc=Qe.unstable_scheduleCallback,eu=Qe.unstable_cancelCallback,Wf=Qe.unstable_shouldYield,Kf=Qe.unstable_requestPaint,de=Qe.unstable_now,Qf=Qe.unstable_getCurrentPriorityLevel,Ql=Qe.unstable_ImmediatePriority,ed=Qe.unstable_UserBlockingPriority,ii=Qe.unstable_NormalPriority,qf=Qe.unstable_LowPriority,td=Qe.unstable_IdlePriority,Ti=null,wt=null;function Gf(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Xf,Jf=Math.log,Yf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-(Jf(e)/Yf|0)|0}var Cs=64,bs=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ir(l):(i&=o,i!==0&&(r=Ir(i)))}else o=n&~s,o!==0?r=Ir(o):i!==0&&(r=Ir(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ep(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ct(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Zf(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nd(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function so(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ms(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function tp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ct(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ql(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function rd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sd,Gl,id,od,ld,Yo=!1,Ts=[],Jt=null,Yt=null,Xt=null,Zr=new Map,es=new Map,Vt=[],np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tu(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function kr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=vs(t),t!==null&&Gl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rp(e,t,n,r,s){switch(t){case"focusin":return Jt=kr(Jt,e,t,n,r,s),!0;case"dragenter":return Yt=kr(Yt,e,t,n,r,s),!0;case"mouseover":return Xt=kr(Xt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zr.set(i,kr(Zr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,es.set(i,kr(es.get(i)||null,e,t,n,r,s)),!0}return!1}function ad(e){var t=kn(e.target);if(t!==null){var n=Rn(t);if(n!==null){if(t=n.tag,t===13){if(t=Jc(n),t!==null){e.blockedOn=t,ld(e.priority,function(){id(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ko=r,n.target.dispatchEvent(r),Ko=null}else return t=vs(n),t!==null&&Gl(t),e.blockedOn=n,!1;t.shift()}return!0}function nu(e,t,n){Ks(e)&&n.delete(t)}function sp(){Yo=!1,Jt!==null&&Ks(Jt)&&(Jt=null),Yt!==null&&Ks(Yt)&&(Yt=null),Xt!==null&&Ks(Xt)&&(Xt=null),Zr.forEach(nu),es.forEach(nu)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yo||(Yo=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,sp)))}function ts(e){function t(s){return Sr(s,e)}if(0<Ts.length){Sr(Ts[0],e);for(var n=1;n<Ts.length;n++){var r=Ts[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jt!==null&&Sr(Jt,e),Yt!==null&&Sr(Yt,e),Xt!==null&&Sr(Xt,e),Zr.forEach(t),es.forEach(t),n=0;n<Vt.length;n++)r=Vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)ad(n),n.blockedOn===null&&Vt.shift()}var tr=At.ReactCurrentBatchConfig,li=!0;function ip(e,t,n,r){var s=Y,i=tr.transition;tr.transition=null;try{Y=1,Jl(e,t,n,r)}finally{Y=s,tr.transition=i}}function op(e,t,n,r){var s=Y,i=tr.transition;tr.transition=null;try{Y=4,Jl(e,t,n,r)}finally{Y=s,tr.transition=i}}function Jl(e,t,n,r){if(li){var s=Xo(e,t,n,r);if(s===null)mo(e,t,r,ai,n),tu(e,r);else if(rp(s,e,t,n,r))r.stopPropagation();else if(tu(e,r),t&4&&-1<np.indexOf(e)){for(;s!==null;){var i=vs(s);if(i!==null&&sd(i),i=Xo(e,t,n,r),i===null&&mo(e,t,r,ai,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mo(e,t,r,null,n)}}var ai=null;function Xo(e,t,n,r){if(ai=null,e=Kl(r),e=kn(e),e!==null)if(t=Rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qf()){case Ql:return 1;case ed:return 4;case ii:case qf:return 16;case td:return 536870912;default:return 16}default:return 16}}var qt=null,Yl=null,Qs=null;function cd(){if(Qs)return Qs;var e,t=Yl,n=t.length,r,s="value"in qt?qt.value:qt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Qs=s.slice(e,1<r?1-r:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function ru(){return!1}function Ge(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:ru,this.isPropagationStopped=ru,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Ge(mr),gs=le({},mr,{view:0,detail:0}),lp=Ge(gs),io,oo,jr,Ni=le({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jr&&(jr&&e.type==="mousemove"?(io=e.screenX-jr.screenX,oo=e.screenY-jr.screenY):oo=io=0,jr=e),io)},movementY:function(e){return"movementY"in e?e.movementY:oo}}),su=Ge(Ni),ap=le({},Ni,{dataTransfer:0}),up=Ge(ap),cp=le({},gs,{relatedTarget:0}),lo=Ge(cp),dp=le({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=Ge(dp),fp=le({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pp=Ge(fp),mp=le({},mr,{data:0}),iu=Ge(mp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yp[e])?!!t[e]:!1}function Zl(){return wp}var _p=le({},gs,{key:function(e){if(e.key){var t=gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xp=Ge(_p),kp=le({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=Ge(kp),Sp=le({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),jp=Ge(Sp),Ep=le({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cp=Ge(Ep),bp=le({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=Ge(bp),Np=[9,13,27,32],ea=Pt&&"CompositionEvent"in window,Fr=null;Pt&&"documentMode"in document&&(Fr=document.documentMode);var Pp=Pt&&"TextEvent"in window&&!Fr,dd=Pt&&(!ea||Fr&&8<Fr&&11>=Fr),lu=" ",au=!1;function hd(e,t){switch(e){case"keyup":return Np.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Op(e,t){switch(e){case"compositionend":return fd(t);case"keypress":return t.which!==32?null:(au=!0,lu);case"textInput":return e=t.data,e===lu&&au?null:e;default:return null}}function $p(e,t){if(Bn)return e==="compositionend"||!ea&&hd(e,t)?(e=cd(),Qs=Yl=qt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dd&&t.locale!=="ko"?null:t.data;default:return null}}var Rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rp[e.type]:t==="textarea"}function pd(e,t,n,r){Wc(r),t=ui(t,"onChange"),0<t.length&&(n=new Xl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Br=null,ns=null;function Lp(e){Ed(e,0)}function Pi(e){var t=Wn(e);if(Mc(t))return e}function Ap(e,t){if(e==="change")return t}var md=!1;if(Pt){var ao;if(Pt){var uo="oninput"in document;if(!uo){var cu=document.createElement("div");cu.setAttribute("oninput","return;"),uo=typeof cu.oninput=="function"}ao=uo}else ao=!1;md=ao&&(!document.documentMode||9<document.documentMode)}function du(){Br&&(Br.detachEvent("onpropertychange",gd),ns=Br=null)}function gd(e){if(e.propertyName==="value"&&Pi(ns)){var t=[];pd(t,ns,e,Kl(e)),Gc(Lp,t)}}function Ip(e,t,n){e==="focusin"?(du(),Br=t,ns=n,Br.attachEvent("onpropertychange",gd)):e==="focusout"&&du()}function Dp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(ns)}function Mp(e,t){if(e==="click")return Pi(t)}function zp(e,t){if(e==="input"||e==="change")return Pi(t)}function Up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Up;function rs(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lo.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fu(e,t){var n=hu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hu(n)}}function vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yd(){for(var e=window,t=ni();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ni(e.document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fp(e){var t=yd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vd(n.ownerDocument.documentElement,n)){if(r!==null&&ta(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=fu(n,i);var o=fu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bp=Pt&&"documentMode"in document&&11>=document.documentMode,Hn=null,Zo=null,Hr=null,el=!1;function pu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;el||Hn==null||Hn!==ni(r)||(r=Hn,"selectionStart"in r&&ta(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&rs(Hr,r)||(Hr=r,r=ui(Zo,"onSelect"),0<r.length&&(t=new Xl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hn)))}function Ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vn={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},co={},wd={};Pt&&(wd=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Oi(e){if(co[e])return co[e];if(!Vn[e])return e;var t=Vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wd)return co[e]=t[n];return e}var _d=Oi("animationend"),xd=Oi("animationiteration"),kd=Oi("animationstart"),Sd=Oi("transitionend"),jd=new Map,mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,t){jd.set(e,t),$n(t,[e])}for(var ho=0;ho<mu.length;ho++){var fo=mu[ho],Hp=fo.toLowerCase(),Vp=fo[0].toUpperCase()+fo.slice(1);ln(Hp,"on"+Vp)}ln(_d,"onAnimationEnd");ln(xd,"onAnimationIteration");ln(kd,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(Sd,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function gu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hf(r,t,void 0,e),e.currentTarget=null}function Ed(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;gu(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;gu(s,l,u),i=a}}}if(si)throw e=Go,si=!1,Go=null,e}function ne(e,t){var n=t[il];n===void 0&&(n=t[il]=new Set);var r=e+"__bubble";n.has(r)||(Cd(t,e,2,!1),n.add(r))}function po(e,t,n){var r=0;t&&(r|=4),Cd(n,e,r,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function ss(e){if(!e[Os]){e[Os]=!0,Rc.forEach(function(n){n!=="selectionchange"&&(Wp.has(n)||po(n,!1,e),po(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,po("selectionchange",!1,t))}}function Cd(e,t,n,r){switch(ud(t)){case 1:var s=ip;break;case 4:s=op;break;default:s=Jl}n=s.bind(null,t,n,e),s=void 0,!qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=kn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Gc(function(){var u=i,c=Kl(n),h=[];e:{var f=jd.get(e);if(f!==void 0){var v=Xl,x=e;switch(e){case"keypress":if(qs(n)===0)break e;case"keydown":case"keyup":v=xp;break;case"focusin":x="focus",v=lo;break;case"focusout":x="blur",v=lo;break;case"beforeblur":case"afterblur":v=lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jp;break;case _d:case xd:case kd:v=hp;break;case Sd:v=Cp;break;case"scroll":v=lp;break;case"wheel":v=Tp;break;case"copy":case"cut":case"paste":v=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ou}var w=(t&4)!==0,C=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Xr(p,m),_!=null&&w.push(is(p,_,g)))),C)break;p=p.return}0<w.length&&(f=new v(f,x,null,n,c),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==Ko&&(x=n.relatedTarget||n.fromElement)&&(kn(x)||x[Ot]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?kn(x):null,x!==null&&(C=Rn(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(w=su,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=ou,_="onPointerLeave",m="onPointerEnter",p="pointer"),C=v==null?f:Wn(v),g=x==null?f:Wn(x),f=new w(_,p+"leave",v,n,c),f.target=C,f.relatedTarget=g,_=null,kn(c)===u&&(w=new w(m,p+"enter",x,n,c),w.target=g,w.relatedTarget=C,_=w),C=_,v&&x)t:{for(w=v,m=x,p=0,g=w;g;g=In(g))p++;for(g=0,_=m;_;_=In(_))g++;for(;0<p-g;)w=In(w),p--;for(;0<g-p;)m=In(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=In(w),m=In(m)}w=null}else w=null;v!==null&&vu(h,f,v,w,!1),x!==null&&C!==null&&vu(h,C,x,w,!0)}}e:{if(f=u?Wn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=Ap;else if(uu(f))if(md)E=zp;else{E=Dp;var $=Ip}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Mp);if(E&&(E=E(e,u))){pd(h,E,n,c);break e}$&&$(e,f,u),e==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&Fo(f,"number",f.value)}switch($=u?Wn(u):window,e){case"focusin":(uu($)||$.contentEditable==="true")&&(Hn=$,Zo=u,Hr=null);break;case"focusout":Hr=Zo=Hn=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,pu(h,n,c);break;case"selectionchange":if(Bp)break;case"keydown":case"keyup":pu(h,n,c)}var y;if(ea)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Bn?hd(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(dd&&n.locale!=="ko"&&(Bn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Bn&&(y=cd()):(qt=c,Yl="value"in qt?qt.value:qt.textContent,Bn=!0)),$=ui(u,j),0<$.length&&(j=new iu(j,e,null,n,c),h.push({event:j,listeners:$}),y?j.data=y:(y=fd(n),y!==null&&(j.data=y)))),(y=Pp?Op(e,n):$p(e,n))&&(u=ui(u,"onBeforeInput"),0<u.length&&(c=new iu("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=y))}Ed(h,t)})}function is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ui(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xr(e,n),i!=null&&r.unshift(is(e,i,s)),i=Xr(e,t),i!=null&&r.push(is(e,i,s))),e=e.return}return r}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Xr(n,i),a!=null&&o.unshift(is(n,a,l))):s||(a=Xr(n,i),a!=null&&o.push(is(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Kp=/\r\n?/g,Qp=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(Qp,"")}function $s(e,t,n){if(t=yu(t),yu(e)!==t&&n)throw Error(S(425))}function ci(){}var tl=null,nl=null;function rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sl=typeof setTimeout=="function"?setTimeout:void 0,qp=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,Gp=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(Jp)}:sl;function Jp(e){setTimeout(function(){throw e})}function go(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ts(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _u(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gr=Math.random().toString(36).slice(2),yt="__reactFiber$"+gr,os="__reactProps$"+gr,Ot="__reactContainer$"+gr,il="__reactEvents$"+gr,Yp="__reactListeners$"+gr,Xp="__reactHandles$"+gr;function kn(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_u(e);e!==null;){if(n=e[yt])return n;e=_u(e)}return t}e=n,n=e.parentNode}return null}function vs(e){return e=e[yt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function $i(e){return e[os]||null}var ol=[],Kn=-1;function an(e){return{current:e}}function re(e){0>Kn||(e.current=ol[Kn],ol[Kn]=null,Kn--)}function ee(e,t){Kn++,ol[Kn]=e.current,e.current=t}var on={},Te=an(on),Me=an(!1),bn=on;function or(e,t){var n=e.type.contextTypes;if(!n)return on;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function di(){re(Me),re(Te)}function xu(e,t,n){if(Te.current!==on)throw Error(S(168));ee(Te,t),ee(Me,n)}function bd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(S(108,If(e)||"Unknown",s));return le({},n,r)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||on,bn=Te.current,ee(Te,e),ee(Me,Me.current),!0}function ku(e,t,n){var r=e.stateNode;if(!r)throw Error(S(169));n?(e=bd(e,t,bn),r.__reactInternalMemoizedMergedChildContext=e,re(Me),re(Te),ee(Te,e)):re(Me),ee(Me,n)}var Ct=null,Ri=!1,vo=!1;function Td(e){Ct===null?Ct=[e]:Ct.push(e)}function Zp(e){Ri=!0,Td(e)}function un(){if(!vo&&Ct!==null){vo=!0;var e=0,t=Y;try{var n=Ct;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ct=null,Ri=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),Zc(Ql,un),s}finally{Y=t,vo=!1}}return null}var Qn=[],qn=0,fi=null,pi=0,Ye=[],Xe=0,Tn=null,bt=1,Tt="";function vn(e,t){Qn[qn++]=pi,Qn[qn++]=fi,fi=e,pi=t}function Nd(e,t,n){Ye[Xe++]=bt,Ye[Xe++]=Tt,Ye[Xe++]=Tn,Tn=e;var r=bt;e=Tt;var s=32-ct(r)-1;r&=~(1<<s),n+=1;var i=32-ct(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bt=1<<32-ct(t)+s|n<<s|r,Tt=i+e}else bt=1<<i|n<<s|r,Tt=e}function na(e){e.return!==null&&(vn(e,1),Nd(e,1,0))}function ra(e){for(;e===fi;)fi=Qn[--qn],Qn[qn]=null,pi=Qn[--qn],Qn[qn]=null;for(;e===Tn;)Tn=Ye[--Xe],Ye[Xe]=null,Tt=Ye[--Xe],Ye[Xe]=null,bt=Ye[--Xe],Ye[Xe]=null}var Ke=null,We=null,se=!1,ut=null;function Pd(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Su(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ke=e,We=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ke=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tn!==null?{id:bt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ke=e,We=null,!0):!1;default:return!1}}function ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function al(e){if(se){var t=We;if(t){var n=t;if(!Su(e,t)){if(ll(e))throw Error(S(418));t=Zt(n.nextSibling);var r=Ke;t&&Su(e,t)?Pd(r,n):(e.flags=e.flags&-4097|2,se=!1,Ke=e)}}else{if(ll(e))throw Error(S(418));e.flags=e.flags&-4097|2,se=!1,Ke=e}}}function ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ke=e}function Rs(e){if(e!==Ke)return!1;if(!se)return ju(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rl(e.type,e.memoizedProps)),t&&(t=We)){if(ll(e))throw Od(),Error(S(418));for(;t;)Pd(e,t),t=Zt(t.nextSibling)}if(ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ke?Zt(e.stateNode.nextSibling):null;return!0}function Od(){for(var e=We;e;)e=Zt(e.nextSibling)}function lr(){We=Ke=null,se=!1}function sa(e){ut===null?ut=[e]:ut.push(e)}var em=At.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function Ls(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eu(e){var t=e._init;return t(e._payload)}function $d(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=rn(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,_){return p===null||p.tag!==6?(p=jo(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,_){var E=g.type;return E===Fn?c(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ft&&Eu(E)===p.type)?(_=s(p,g.props),_.ref=Er(m,p,g),_.return=m,_):(_=ti(g.type,g.key,g.props,null,m.mode,_),_.ref=Er(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Eo(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function c(m,p,g,_,E){return p===null||p.tag!==7?(p=Cn(g,m.mode,_,E),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=jo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ss:return g=ti(p.type,p.key,p.props,null,m.mode,g),g.ref=Er(m,null,p),g.return=m,g;case Un:return p=Eo(p,m.mode,g),p.return=m,p;case Ft:var _=p._init;return h(m,_(p._payload),g)}if(Ar(p)||_r(p))return p=Cn(p,m.mode,g,null),p.return=m,p;Ls(m,p)}return null}function f(m,p,g,_){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:return g.key===E?a(m,p,g,_):null;case Un:return g.key===E?u(m,p,g,_):null;case Ft:return E=g._init,f(m,p,E(g._payload),_)}if(Ar(g)||_r(g))return E!==null?null:c(m,p,g,_,null);Ls(m,g)}return null}function v(m,p,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,l(p,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ss:return m=m.get(_.key===null?g:_.key)||null,a(p,m,_,E);case Un:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,E);case Ft:var $=_._init;return v(m,p,g,$(_._payload),E)}if(Ar(_)||_r(_))return m=m.get(g)||null,c(p,m,_,E,null);Ls(p,_)}return null}function x(m,p,g,_){for(var E=null,$=null,y=p,j=p=0,G=null;y!==null&&j<g.length;j++){y.index>j?(G=y,y=null):G=y.sibling;var M=f(m,y,g[j],_);if(M===null){y===null&&(y=G);break}e&&y&&M.alternate===null&&t(m,y),p=i(M,p,j),$===null?E=M:$.sibling=M,$=M,y=G}if(j===g.length)return n(m,y),se&&vn(m,j),E;if(y===null){for(;j<g.length;j++)y=h(m,g[j],_),y!==null&&(p=i(y,p,j),$===null?E=y:$.sibling=y,$=y);return se&&vn(m,j),E}for(y=r(m,y);j<g.length;j++)G=v(y,m,j,g[j],_),G!==null&&(e&&G.alternate!==null&&y.delete(G.key===null?j:G.key),p=i(G,p,j),$===null?E=G:$.sibling=G,$=G);return e&&y.forEach(function(xe){return t(m,xe)}),se&&vn(m,j),E}function w(m,p,g,_){var E=_r(g);if(typeof E!="function")throw Error(S(150));if(g=E.call(g),g==null)throw Error(S(151));for(var $=E=null,y=p,j=p=0,G=null,M=g.next();y!==null&&!M.done;j++,M=g.next()){y.index>j?(G=y,y=null):G=y.sibling;var xe=f(m,y,M.value,_);if(xe===null){y===null&&(y=G);break}e&&y&&xe.alternate===null&&t(m,y),p=i(xe,p,j),$===null?E=xe:$.sibling=xe,$=xe,y=G}if(M.done)return n(m,y),se&&vn(m,j),E;if(y===null){for(;!M.done;j++,M=g.next())M=h(m,M.value,_),M!==null&&(p=i(M,p,j),$===null?E=M:$.sibling=M,$=M);return se&&vn(m,j),E}for(y=r(m,y);!M.done;j++,M=g.next())M=v(y,m,j,M.value,_),M!==null&&(e&&M.alternate!==null&&y.delete(M.key===null?j:M.key),p=i(M,p,j),$===null?E=M:$.sibling=M,$=M);return e&&y.forEach(function(xt){return t(m,xt)}),se&&vn(m,j),E}function C(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===Fn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:e:{for(var E=g.key,$=p;$!==null;){if($.key===E){if(E=g.type,E===Fn){if($.tag===7){n(m,$.sibling),p=s($,g.props.children),p.return=m,m=p;break e}}else if($.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ft&&Eu(E)===$.type){n(m,$.sibling),p=s($,g.props),p.ref=Er(m,$,g),p.return=m,m=p;break e}n(m,$);break}else t(m,$);$=$.sibling}g.type===Fn?(p=Cn(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=ti(g.type,g.key,g.props,null,m.mode,_),_.ref=Er(m,p,g),_.return=m,m=_)}return o(m);case Un:e:{for($=g.key;p!==null;){if(p.key===$)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Eo(g,m.mode,_),p.return=m,m=p}return o(m);case Ft:return $=g._init,C(m,p,$(g._payload),_)}if(Ar(g))return x(m,p,g,_);if(_r(g))return w(m,p,g,_);Ls(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=jo(g,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return C}var ar=$d(!0),Rd=$d(!1),mi=an(null),gi=null,Gn=null,ia=null;function oa(){ia=Gn=gi=null}function la(e){var t=mi.current;re(mi),e._currentValue=t}function ul(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nr(e,t){gi=e,ia=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(ia!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(gi===null)throw Error(S(308));Gn=e,gi.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var Sn=null;function aa(e){Sn===null?Sn=[e]:Sn.push(e)}function Ld(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,aa(t)):(n.next=s.next,s.next=n),t.interleaved=n,$t(e,r)}function $t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bt=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,$t(e,n)}return s=r.interleaved,s===null?(t.next=t,aa(r)):(t.next=s.next,s.next=t),r.interleaved=t,$t(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ql(e,n)}}function Cu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vi(e,t,n,r){var s=e.updateQueue;Bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(f=t,v=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(v,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(v,h,f):x,f==null)break e;h=le({},h,f);break e;case 2:Bt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=h):c=c.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pn|=o,e.lanes=o,e.memoizedState=h}}function bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var ys={},_t=an(ys),ls=an(ys),as=an(ys);function jn(e){if(e===ys)throw Error(S(174));return e}function ca(e,t){switch(ee(as,t),ee(ls,e),ee(_t,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ho(t,e)}re(_t),ee(_t,t)}function ur(){re(_t),re(ls),re(as)}function Id(e){jn(as.current);var t=jn(_t.current),n=Ho(t,e.type);t!==n&&(ee(ls,e),ee(_t,n))}function da(e){ls.current===e&&(re(_t),re(ls))}var ie=an(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yo=[];function ha(){for(var e=0;e<yo.length;e++)yo[e]._workInProgressVersionPrimary=null;yo.length=0}var Js=At.ReactCurrentDispatcher,wo=At.ReactCurrentBatchConfig,Nn=0,oe=null,me=null,we=null,wi=!1,Vr=!1,us=0,tm=0;function Ee(){throw Error(S(321))}function fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,s,i){if(Nn=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=e===null||e.memoizedState===null?im:om,e=n(r,s),Vr){i=0;do{if(Vr=!1,us=0,25<=i)throw Error(S(301));i+=1,we=me=null,t.updateQueue=null,Js.current=lm,e=n(r,s)}while(Vr)}if(Js.current=_i,t=me!==null&&me.next!==null,Nn=0,we=me=oe=null,wi=!1,t)throw Error(S(300));return e}function ma(){var e=us!==0;return us=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?oe.memoizedState=we=e:we=we.next=e,we}function rt(){if(me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=we===null?oe.memoizedState:we.next;if(t!==null)we=t,me=e;else{if(e===null)throw Error(S(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},we===null?oe.memoizedState=we=e:we=we.next=e}return we}function cs(e,t){return typeof t=="function"?t(e):t}function _o(e){var t=rt(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Nn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,oe.lanes|=c,Pn|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,ht(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,Pn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=rt(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ht(i,t.memoizedState)||(De=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Dd(){}function Md(e,t){var n=oe,r=rt(),s=t(),i=!ht(r.memoizedState,s);if(i&&(r.memoizedState=s,De=!0),r=r.queue,ga(Fd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,ds(9,Ud.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(S(349));Nn&30||zd(n,t,s)}return s}function zd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ud(e,t,n,r){t.value=n,t.getSnapshot=r,Bd(t)&&Hd(e)}function Fd(e,t,n){return n(function(){Bd(t)&&Hd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function Hd(e){var t=$t(e,1);t!==null&&dt(t,e,1,-1)}function Tu(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=sm.bind(null,oe,e),[t.memoizedState,e]}function ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vd(){return rt().memoizedState}function Ys(e,t,n,r){var s=vt();oe.flags|=e,s.memoizedState=ds(1|t,n,void 0,r===void 0?null:r)}function Li(e,t,n,r){var s=rt();r=r===void 0?null:r;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,r!==null&&fa(r,o.deps)){s.memoizedState=ds(t,n,i,r);return}}oe.flags|=e,s.memoizedState=ds(1|t,n,i,r)}function Nu(e,t){return Ys(8390656,8,e,t)}function ga(e,t){return Li(2048,8,e,t)}function Wd(e,t){return Li(4,2,e,t)}function Kd(e,t){return Li(4,4,e,t)}function Qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,n){return n=n!=null?n.concat([e]):null,Li(4,4,Qd.bind(null,t,e),n)}function va(){}function Gd(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jd(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yd(e,t,n){return Nn&21?(ht(n,t)||(n=nd(),oe.lanes|=n,Pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function nm(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=wo.transition;wo.transition={};try{e(!1),t()}finally{Y=n,wo.transition=r}}function Xd(){return rt().memoizedState}function rm(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zd(e))eh(t,n);else if(n=Ld(e,t,n,r),n!==null){var s=Pe();dt(n,e,r,s),th(n,t,r)}}function sm(e,t,n){var r=nn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zd(e))eh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ht(l,o)){var a=t.interleaved;a===null?(s.next=s,aa(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Ld(e,t,s,r),n!==null&&(s=Pe(),dt(n,e,r,s),th(n,t,r))}}function Zd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function eh(e,t){Vr=wi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function th(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ql(e,n)}}var _i={readContext:nt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},im={readContext:nt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Nu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4194308,4,Qd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rm.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Tu,useDebugValue:va,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Tu(!1),t=e[0];return e=nm.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=vt();if(se){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),_e===null)throw Error(S(349));Nn&30||zd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Nu(Fd.bind(null,r,i,e),[e]),r.flags|=2048,ds(9,Ud.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vt(),t=_e.identifierPrefix;if(se){var n=Tt,r=bt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},om={readContext:nt,useCallback:Gd,useContext:nt,useEffect:ga,useImperativeHandle:qd,useInsertionEffect:Wd,useLayoutEffect:Kd,useMemo:Jd,useReducer:_o,useRef:Vd,useState:function(){return _o(cs)},useDebugValue:va,useDeferredValue:function(e){var t=rt();return Yd(t,me.memoizedState,e)},useTransition:function(){var e=_o(cs)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Md,useId:Xd,unstable_isNewReconciler:!1},lm={readContext:nt,useCallback:Gd,useContext:nt,useEffect:ga,useImperativeHandle:qd,useInsertionEffect:Wd,useLayoutEffect:Kd,useMemo:Jd,useReducer:xo,useRef:Vd,useState:function(){return xo(cs)},useDebugValue:va,useDeferredValue:function(e){var t=rt();return me===null?t.memoizedState=e:Yd(t,me.memoizedState,e)},useTransition:function(){var e=xo(cs)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Md,useId:Xd,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function cl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ai={isMounted:function(e){return(e=e._reactInternals)?Rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pe(),s=nn(e),i=Nt(r,s);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,s),t!==null&&(dt(t,e,s,r),Gs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pe(),s=nn(e),i=Nt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,s),t!==null&&(dt(t,e,s,r),Gs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),r=nn(e),s=Nt(n,r);s.tag=2,t!=null&&(s.callback=t),t=en(e,s,r),t!==null&&(dt(t,e,r,n),Gs(t,e,r))}};function Pu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!rs(n,r)||!rs(s,i):!0}function nh(e,t,n){var r=!1,s=on,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=ze(t)?bn:Te.current,r=t.contextTypes,i=(r=r!=null)?or(e,s):on),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ai,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ou(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ai.enqueueReplaceState(t,t.state,null)}function dl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ua(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=ze(t)?bn:Te.current,s.context=or(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(cl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ai.enqueueReplaceState(s,s.state,null),vi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cr(e,t){try{var n="",r=t;do n+=Af(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ko(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var am=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,n){n=Nt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ki||(ki=!0,kl=r),hl(e,t)},n}function sh(e,t,n){n=Nt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hl(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function $u(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new am;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=km.bind(null,e,t,n),t.then(e,e))}function Ru(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e)}var um=At.ReactCurrentOwner,De=!1;function Ne(e,t,n,r){t.child=e===null?Rd(t,null,n,r):ar(t,e.child,n,r)}function Au(e,t,n,r,s){n=n.render;var i=t.ref;return nr(t,s),r=pa(e,t,n,r,i,s),n=ma(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rt(e,t,s)):(se&&n&&na(t),t.flags|=1,Ne(e,t,r,s),t.child)}function Iu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ea(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ih(e,t,i,r,s)):(e=ti(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rs,n(o,r)&&e.ref===t.ref)return Rt(e,t,s)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ih(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(rs(i,r)&&e.ref===t.ref)if(De=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Rt(e,t,s)}return fl(e,t,n,r,s)}function oh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Yn,He),He|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Yn,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(Yn,He),He|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(Yn,He),He|=r;return Ne(e,t,s,n),t.child}function lh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fl(e,t,n,r,s){var i=ze(n)?bn:Te.current;return i=or(t,i),nr(t,s),n=pa(e,t,n,r,i,s),r=ma(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rt(e,t,s)):(se&&r&&na(t),t.flags|=1,Ne(e,t,n,s),t.child)}function Du(e,t,n,r,s){if(ze(n)){var i=!0;hi(t)}else i=!1;if(nr(t,s),t.stateNode===null)Xs(e,t),nh(t,n,r),dl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=ze(n)?bn:Te.current,u=or(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ou(t,o,r,u),Bt=!1;var f=t.memoizedState;o.state=f,vi(t,r,o,s),a=t.memoizedState,l!==r||f!==a||Me.current||Bt?(typeof c=="function"&&(cl(t,n,c,r),a=t.memoizedState),(l=Bt||Pu(t,n,l,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ad(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ot(t.type,l),o.props=u,h=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=nt(a):(a=ze(n)?bn:Te.current,a=or(t,a));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&Ou(t,o,r,a),Bt=!1,f=t.memoizedState,o.state=f,vi(t,r,o,s);var x=t.memoizedState;l!==h||f!==x||Me.current||Bt?(typeof v=="function"&&(cl(t,n,v,r),x=t.memoizedState),(u=Bt||Pu(t,n,u,r,f,x,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return pl(e,t,n,r,i,s)}function pl(e,t,n,r,s,i){lh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&ku(t,n,!1),Rt(e,t,i);r=t.stateNode,um.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ar(t,e.child,null,i),t.child=ar(t,null,l,i)):Ne(e,t,l,i),t.memoizedState=r.state,s&&ku(t,n,!0),t.child}function ah(e){var t=e.stateNode;t.pendingContext?xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xu(e,t.context,!1),ca(e,t.containerInfo)}function Mu(e,t,n,r,s){return lr(),sa(s),t.flags|=256,Ne(e,t,n,r),t.child}var ml={dehydrated:null,treeContext:null,retryLane:0};function gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function uh(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(ie,s&1),e===null)return al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mi(o,r,0,null),e=Cn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gl(n),t.memoizedState=ml,e):ya(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cm(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=rn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=rn(l,i):(i=Cn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?gl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ml,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ya(e,t){return t=Mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,n,r){return r!==null&&sa(r),ar(t,e.child,null,n),e=ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ko(Error(S(422))),As(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Mi({mode:"visible",children:r.children},s,0,null),i=Cn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ar(t,e.child,null,o),t.child.memoizedState=gl(o),t.memoizedState=ml,i);if(!(t.mode&1))return As(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=ko(i,r,void 0),As(e,t,o,r)}if(l=(o&e.childLanes)!==0,De||l){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$t(e,s),dt(r,e,s,-1))}return ja(),r=ko(Error(S(421))),As(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Sm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,We=Zt(s.nextSibling),Ke=t,se=!0,ut=null,e!==null&&(Ye[Xe++]=bt,Ye[Xe++]=Tt,Ye[Xe++]=Tn,bt=e.id,Tt=e.overflow,Tn=t),t=ya(t,r.children),t.flags|=4096,t)}function zu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ul(e.return,t,n)}function So(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ch(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zu(e,n,t);else if(e.tag===19)zu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),So(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}So(t,!0,n,null,i);break;case"together":So(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dm(e,t,n){switch(t.tag){case 3:ah(t),lr();break;case 5:Id(t);break;case 1:ze(t.type)&&hi(t);break;case 4:ca(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(mi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?uh(e,t,n):(ee(ie,ie.current&1),e=Rt(e,t,n),e!==null?e.sibling:null);ee(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ch(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,oh(e,t,n)}return Rt(e,t,n)}var dh,vl,hh,fh;dh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vl=function(){};hh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,jn(_t.current);var i=null;switch(n){case"input":s=zo(e,s),r=zo(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Bo(e,s),r=Bo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ci)}Vo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ne("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};fh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cr(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hm(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return ze(t.type)&&di(),Ce(t),null;case 3:return r=t.stateNode,ur(),re(Me),re(Te),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(El(ut),ut=null))),vl(e,t),Ce(t),null;case 5:da(t);var s=jn(as.current);if(n=t.type,e!==null&&t.stateNode!=null)hh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(S(166));return Ce(t),null}if(e=jn(_t.current),Rs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[yt]=t,r[os]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Dr.length;s++)ne(Dr[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":qa(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":Ja(r,i),ne("invalid",r)}Vo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$s(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$s(r.textContent,l,e),s=["children",""+l]):Jr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":js(r),Ga(r,i,!0);break;case"textarea":js(r),Ya(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ci)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[yt]=t,e[os]=r,dh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wo(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dr.length;s++)ne(Dr[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":qa(e,r),s=zo(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Ja(e,r),s=Bo(e,r),ne("invalid",e);break;default:s=r}Vo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Vc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Bc(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Yr(e,a):typeof a=="number"&&Yr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ne("scroll",e):a!=null&&Bl(e,i,a,o))}switch(n){case"input":js(e),Ga(e,r,!1);break;case"textarea":js(e),Ya(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Xn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Xn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)fh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(S(166));if(n=jn(as.current),jn(_t.current),Rs(t)){if(r=t.stateNode,n=t.memoizedProps,r[yt]=t,(i=r.nodeValue!==n)&&(e=Ke,e!==null))switch(e.tag){case 3:$s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yt]=t,t.stateNode=r}return Ce(t),null;case 13:if(re(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&We!==null&&t.mode&1&&!(t.flags&128))Od(),lr(),t.flags|=98560,i=!1;else if(i=Rs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[yt]=t}else lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else ut!==null&&(El(ut),ut=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):ja())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return ur(),vl(e,t),e===null&&ss(t.stateNode.containerInfo),Ce(t),null;case 10:return la(t.type._context),Ce(t),null;case 17:return ze(t.type)&&di(),Ce(t),null;case 19:if(re(ie),i=t.memoizedState,i===null)return Ce(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Cr(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yi(e),o!==null){for(t.flags|=128,Cr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>dr&&(t.flags|=128,r=!0,Cr(i,!1),t.lanes=4194304)}else{if(!r)if(e=yi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return Ce(t),null}else 2*de()-i.renderingStartTime>dr&&n!==1073741824&&(t.flags|=128,r=!0,Cr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,n=ie.current,ee(ie,r?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return Sa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function fm(e,t){switch(ra(t),t.tag){case 1:return ze(t.type)&&di(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ur(),re(Me),re(Te),ha(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return da(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return ur(),null;case 10:return la(t.type._context),null;case 22:case 23:return Sa(),null;case 24:return null;default:return null}}var Is=!1,be=!1,pm=typeof WeakSet=="function"?WeakSet:Set,O=null;function Jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function yl(e,t,n){try{n()}catch(r){ce(e,t,r)}}var Uu=!1;function mm(e,t){if(tl=li,e=yd(),ta(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++c===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(nl={focusedElem:e,selectionRange:n},li=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,C=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:ot(t.type,w),C);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(_){ce(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return x=Uu,Uu=!1,x}function Wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&yl(t,n,i)}s=s.next}while(s!==r)}}function Ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[os],delete t[il],delete t[Yp],delete t[Xp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mh(e){return e.tag===5||e.tag===3||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _l(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ci));else if(r!==4&&(e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xl(e,t,n),e=e.sibling;e!==null;)xl(e,t,n),e=e.sibling}var ke=null,lt=!1;function Mt(e,t,n){for(n=n.child;n!==null;)gh(e,t,n),n=n.sibling}function gh(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ti,n)}catch{}switch(n.tag){case 5:be||Jn(n,t);case 6:var r=ke,s=lt;ke=null,Mt(e,t,n),ke=r,lt=s,ke!==null&&(lt?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(lt?(e=ke,n=n.stateNode,e.nodeType===8?go(e.parentNode,n):e.nodeType===1&&go(e,n),ts(e)):go(ke,n.stateNode));break;case 4:r=ke,s=lt,ke=n.stateNode.containerInfo,lt=!0,Mt(e,t,n),ke=r,lt=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yl(n,t,o),s=s.next}while(s!==r)}Mt(e,t,n);break;case 1:if(!be&&(Jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ce(n,t,l)}Mt(e,t,n);break;case 21:Mt(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Mt(e,t,n),be=r):Mt(e,t,n);break;default:Mt(e,t,n)}}function Bu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pm),t.forEach(function(r){var s=jm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ke=l.stateNode,lt=!1;break e;case 3:ke=l.stateNode.containerInfo,lt=!0;break e;case 4:ke=l.stateNode.containerInfo,lt=!0;break e}l=l.return}if(ke===null)throw Error(S(160));gh(i,o,s),ke=null,lt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vh(t,e),t=t.sibling}function vh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),mt(e),r&4){try{Wr(3,e,e.return),Ii(3,e)}catch(w){ce(e,e.return,w)}try{Wr(5,e,e.return)}catch(w){ce(e,e.return,w)}}break;case 1:it(t,e),mt(e),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(it(t,e),mt(e),r&512&&n!==null&&Jn(n,n.return),e.flags&32){var s=e.stateNode;try{Yr(s,"")}catch(w){ce(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&zc(s,i),Wo(l,o);var u=Wo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?Vc(s,h):c==="dangerouslySetInnerHTML"?Bc(s,h):c==="children"?Yr(s,h):Bl(s,c,h,u)}switch(l){case"input":Uo(s,i);break;case"textarea":Uc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Xn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xn(s,!!i.multiple,i.defaultValue,!0):Xn(s,!!i.multiple,i.multiple?[]:"",!1))}s[os]=i}catch(w){ce(e,e.return,w)}}break;case 6:if(it(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(S(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ce(e,e.return,w)}}break;case 3:if(it(t,e),mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ts(t.containerInfo)}catch(w){ce(e,e.return,w)}break;case 4:it(t,e),mt(e);break;case 13:it(t,e),mt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xa=de())),r&4&&Bu(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(be=(u=be)||c,it(t,e),be=u):it(t,e),mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(h=O=c;O!==null;){switch(f=O,v=f.child,f.tag){case 0:case 11:case 14:case 15:Wr(4,f,f.return);break;case 1:Jn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){ce(r,n,w)}}break;case 5:Jn(f,f.return);break;case 22:if(f.memoizedState!==null){Vu(h);continue}}v!==null?(v.return=f,O=v):Vu(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Hc("display",o))}catch(w){ce(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ce(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:it(t,e),mt(e),r&4&&Bu(e);break;case 21:break;default:it(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mh(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yr(s,""),r.flags&=-33);var i=Fu(e);xl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Fu(e);_l(e,l,o);break;default:throw Error(S(161))}}catch(a){ce(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gm(e,t,n){O=e,yh(e)}function yh(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Is;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||be;l=Is;var u=be;if(Is=o,(be=a)&&!u)for(O=s;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Wu(s):a!==null?(a.return=o,O=a):Wu(s);for(;i!==null;)O=i,yh(i),i=i.sibling;O=s,Is=l,be=u}Hu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Hu(e)}}function Hu(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Ii(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ts(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}be||t.flags&512&&wl(t)}catch(f){ce(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Vu(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Wu(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ii(4,t)}catch(a){ce(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){ce(t,s,a)}}var i=t.return;try{wl(t)}catch(a){ce(t,i,a)}break;case 5:var o=t.return;try{wl(t)}catch(a){ce(t,o,a)}}}catch(a){ce(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var vm=Math.ceil,xi=At.ReactCurrentDispatcher,wa=At.ReactCurrentOwner,et=At.ReactCurrentBatchConfig,J=0,_e=null,pe=null,Se=0,He=0,Yn=an(0),ge=0,hs=null,Pn=0,Di=0,_a=0,Kr=null,Ae=null,xa=0,dr=1/0,St=null,ki=!1,kl=null,tn=null,Ds=!1,Gt=null,Si=0,Qr=0,Sl=null,Zs=-1,ei=0;function Pe(){return J&6?de():Zs!==-1?Zs:Zs=de()}function nn(e){return e.mode&1?J&2&&Se!==0?Se&-Se:em.transition!==null?(ei===0&&(ei=nd()),ei):(e=Y,e!==0||(e=window.event,e=e===void 0?16:ud(e.type)),e):1}function dt(e,t,n,r){if(50<Qr)throw Qr=0,Sl=null,Error(S(185));ms(e,n,r),(!(J&2)||e!==_e)&&(e===_e&&(!(J&2)&&(Di|=n),ge===4&&Wt(e,Se)),Ue(e,r),n===1&&J===0&&!(t.mode&1)&&(dr=de()+500,Ri&&un()))}function Ue(e,t){var n=e.callbackNode;ep(e,t);var r=oi(e,e===_e?Se:0);if(r===0)n!==null&&eu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&eu(n),t===1)e.tag===0?Zp(Ku.bind(null,e)):Td(Ku.bind(null,e)),Gp(function(){!(J&6)&&un()}),n=null;else{switch(rd(r)){case 1:n=Ql;break;case 4:n=ed;break;case 16:n=ii;break;case 536870912:n=td;break;default:n=ii}n=Ch(n,wh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wh(e,t){if(Zs=-1,ei=0,J&6)throw Error(S(327));var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var r=oi(e,e===_e?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ji(e,r);else{t=r;var s=J;J|=2;var i=xh();(_e!==e||Se!==t)&&(St=null,dr=de()+500,En(e,t));do try{_m();break}catch(l){_h(e,l)}while(!0);oa(),xi.current=i,J=s,pe!==null?t=0:(_e=null,Se=0,t=ge)}if(t!==0){if(t===2&&(s=Jo(e),s!==0&&(r=s,t=jl(e,s))),t===1)throw n=hs,En(e,0),Wt(e,r),Ue(e,de()),n;if(t===6)Wt(e,r);else{if(s=e.current.alternate,!(r&30)&&!ym(s)&&(t=ji(e,r),t===2&&(i=Jo(e),i!==0&&(r=i,t=jl(e,i))),t===1))throw n=hs,En(e,0),Wt(e,r),Ue(e,de()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(S(345));case 2:yn(e,Ae,St);break;case 3:if(Wt(e,r),(r&130023424)===r&&(t=xa+500-de(),10<t)){if(oi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sl(yn.bind(null,e,Ae,St),t);break}yn(e,Ae,St);break;case 4:if(Wt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ct(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vm(r/1960))-r,10<r){e.timeoutHandle=sl(yn.bind(null,e,Ae,St),r);break}yn(e,Ae,St);break;case 5:yn(e,Ae,St);break;default:throw Error(S(329))}}}return Ue(e,de()),e.callbackNode===n?wh.bind(null,e):null}function jl(e,t){var n=Kr;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=ji(e,t),e!==2&&(t=Ae,Ae=n,t!==null&&El(t)),e}function El(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function ym(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ht(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~_a,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function Ku(e){if(J&6)throw Error(S(327));rr();var t=oi(e,0);if(!(t&1))return Ue(e,de()),null;var n=ji(e,t);if(e.tag!==0&&n===2){var r=Jo(e);r!==0&&(t=r,n=jl(e,r))}if(n===1)throw n=hs,En(e,0),Wt(e,t),Ue(e,de()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,Ae,St),Ue(e,de()),null}function ka(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(dr=de()+500,Ri&&un())}}function On(e){Gt!==null&&Gt.tag===0&&!(J&6)&&rr();var t=J;J|=1;var n=et.transition,r=Y;try{if(et.transition=null,Y=1,e)return e()}finally{Y=r,et.transition=n,J=t,!(J&6)&&un()}}function Sa(){He=Yn.current,re(Yn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qp(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(ra(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&di();break;case 3:ur(),re(Me),re(Te),ha();break;case 5:da(r);break;case 4:ur();break;case 13:re(ie);break;case 19:re(ie);break;case 10:la(r.type._context);break;case 22:case 23:Sa()}n=n.return}if(_e=e,pe=e=rn(e.current,null),Se=He=t,ge=0,hs=null,_a=Di=Pn=0,Ae=Kr=null,Sn!==null){for(t=0;t<Sn.length;t++)if(n=Sn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Sn=null}return e}function _h(e,t){do{var n=pe;try{if(oa(),Js.current=_i,wi){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wi=!1}if(Nn=0,we=me=oe=null,Vr=!1,us=0,wa.current=null,n===null||n.return===null){ge=1,hs=t,pe=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Se,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Ru(o);if(v!==null){v.flags&=-257,Lu(v,o,l,i,t),v.mode&1&&$u(i,u,t),t=v,a=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(a),t.updateQueue=w}else x.add(a);break e}else{if(!(t&1)){$u(i,u,t),ja();break e}a=Error(S(426))}}else if(se&&l.mode&1){var C=Ru(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Lu(C,o,l,i,t),sa(cr(a,l));break e}}i=a=cr(a,l),ge!==4&&(ge=2),Kr===null?Kr=[i]:Kr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=rh(i,a,t);Cu(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(tn===null||!tn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=sh(i,l,t);Cu(i,_);break e}}i=i.return}while(i!==null)}Sh(n)}catch(E){t=E,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function xh(){var e=xi.current;return xi.current=_i,e===null?_i:e}function ja(){(ge===0||ge===3||ge===2)&&(ge=4),_e===null||!(Pn&268435455)&&!(Di&268435455)||Wt(_e,Se)}function ji(e,t){var n=J;J|=2;var r=xh();(_e!==e||Se!==t)&&(St=null,En(e,t));do try{wm();break}catch(s){_h(e,s)}while(!0);if(oa(),J=n,xi.current=r,pe!==null)throw Error(S(261));return _e=null,Se=0,ge}function wm(){for(;pe!==null;)kh(pe)}function _m(){for(;pe!==null&&!Wf();)kh(pe)}function kh(e){var t=Eh(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Sh(e):pe=t,wa.current=null}function Sh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fm(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,pe=null;return}}else if(n=hm(n,t,He),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ge===0&&(ge=5)}function yn(e,t,n){var r=Y,s=et.transition;try{et.transition=null,Y=1,xm(e,t,n,r)}finally{et.transition=s,Y=r}return null}function xm(e,t,n,r){do rr();while(Gt!==null);if(J&6)throw Error(S(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(tp(e,i),e===_e&&(pe=_e=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ds||(Ds=!0,Ch(ii,function(){return rr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=et.transition,et.transition=null;var o=Y;Y=1;var l=J;J|=4,wa.current=null,mm(e,n),vh(n,e),Fp(nl),li=!!tl,nl=tl=null,e.current=n,gm(n),Kf(),J=l,Y=o,et.transition=i}else e.current=n;if(Ds&&(Ds=!1,Gt=e,Si=s),i=e.pendingLanes,i===0&&(tn=null),Gf(n.stateNode),Ue(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ki)throw ki=!1,e=kl,kl=null,e;return Si&1&&e.tag!==0&&rr(),i=e.pendingLanes,i&1?e===Sl?Qr++:(Qr=0,Sl=e):Qr=0,un(),null}function rr(){if(Gt!==null){var e=rd(Si),t=et.transition,n=Y;try{if(et.transition=null,Y=16>e?16:e,Gt===null)var r=!1;else{if(e=Gt,Gt=null,Si=0,J&6)throw Error(S(331));var s=J;for(J|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Wr(8,c,i)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var f=c.sibling,v=c.return;if(ph(c),c===u){O=null;break}if(f!==null){f.return=v,O=f;break}O=v}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ii(9,l)}}catch(E){ce(l,l.return,E)}if(l===o){O=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,O=_;break e}O=l.return}}if(J=s,un(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ti,e)}catch{}r=!0}return r}finally{Y=n,et.transition=t}}return!1}function Qu(e,t,n){t=cr(n,t),t=rh(e,t,1),e=en(e,t,1),t=Pe(),e!==null&&(ms(e,1,t),Ue(e,t))}function ce(e,t,n){if(e.tag===3)Qu(e,e,n);else for(;t!==null;){if(t.tag===3){Qu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=cr(n,e),e=sh(t,e,1),t=en(t,e,1),e=Pe(),t!==null&&(ms(t,1,e),Ue(t,e));break}}t=t.return}}function km(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Se&n)===n&&(ge===4||ge===3&&(Se&130023424)===Se&&500>de()-xa?En(e,0):_a|=n),Ue(e,t)}function jh(e,t){t===0&&(e.mode&1?(t=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):t=1);var n=Pe();e=$t(e,t),e!==null&&(ms(e,t,n),Ue(e,n))}function Sm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jh(e,n)}function jm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(t),jh(e,n)}var Eh;Eh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,dm(e,t,n);De=!!(e.flags&131072)}else De=!1,se&&t.flags&1048576&&Nd(t,pi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var s=or(t,Te.current);nr(t,n),s=pa(null,t,r,e,s,n);var i=ma();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,hi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ua(t),s.updater=Ai,t.stateNode=s,s._reactInternals=t,dl(t,r,e,n),t=pl(null,t,r,!0,i,n)):(t.tag=0,se&&i&&na(t),Ne(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Cm(r),e=ot(r,e),s){case 0:t=fl(null,t,r,e,n);break e;case 1:t=Du(null,t,r,e,n);break e;case 11:t=Au(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,ot(r.type,e),n);break e}throw Error(S(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),fl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Du(e,t,r,s,n);case 3:e:{if(ah(t),e===null)throw Error(S(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ad(e,t),vi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=cr(Error(S(423)),t),t=Mu(e,t,r,n,s);break e}else if(r!==s){s=cr(Error(S(424)),t),t=Mu(e,t,r,n,s);break e}else for(We=Zt(t.stateNode.containerInfo.firstChild),Ke=t,se=!0,ut=null,n=Rd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===s){t=Rt(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return Id(t),e===null&&al(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,rl(r,s)?o=null:i!==null&&rl(r,i)&&(t.flags|=32),lh(e,t),Ne(e,t,o,n),t.child;case 6:return e===null&&al(t),null;case 13:return uh(e,t,n);case 4:return ca(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ar(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Au(e,t,r,s,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(mi,r._currentValue),r._currentValue=o,i!==null)if(ht(i.value,o)){if(i.children===s.children&&!Me.current){t=Rt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Nt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ul(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ul(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ne(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,nr(t,n),s=nt(s),r=r(s),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,s=ot(r,t.pendingProps),s=ot(r.type,s),Iu(e,t,r,s,n);case 15:return ih(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Xs(e,t),t.tag=1,ze(r)?(e=!0,hi(t)):e=!1,nr(t,n),nh(t,r,s),dl(t,r,s,n),pl(null,t,r,!0,e,n);case 19:return ch(e,t,n);case 22:return oh(e,t,n)}throw Error(S(156,t.tag))};function Ch(e,t){return Zc(e,t)}function Em(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,r){return new Em(e,t,n,r)}function Ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cm(e){if(typeof e=="function")return Ea(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vl)return 11;if(e===Wl)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ti(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ea(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fn:return Cn(n.children,s,i,t);case Hl:o=8,s|=8;break;case Ao:return e=Ze(12,n,t,s|2),e.elementType=Ao,e.lanes=i,e;case Io:return e=Ze(13,n,t,s),e.elementType=Io,e.lanes=i,e;case Do:return e=Ze(19,n,t,s),e.elementType=Do,e.lanes=i,e;case Ic:return Mi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lc:o=10;break e;case Ac:o=9;break e;case Vl:o=11;break e;case Wl:o=14;break e;case Ft:o=16,r=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Ze(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Cn(e,t,n,r){return e=Ze(7,e,r,t),e.lanes=n,e}function Mi(e,t,n,r){return e=Ze(22,e,r,t),e.elementType=Ic,e.lanes=n,e.stateNode={isHidden:!1},e}function jo(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function Eo(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ca(e,t,n,r,s,i,o,l,a){return e=new bm(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ua(i),e}function Tm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bh(e){if(!e)return on;e=e._reactInternals;e:{if(Rn(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(ze(n))return bd(e,n,t)}return t}function Th(e,t,n,r,s,i,o,l,a){return e=Ca(n,r,!0,e,s,i,o,l,a),e.context=bh(null),n=e.current,r=Pe(),s=nn(n),i=Nt(r,s),i.callback=t??null,en(n,i,s),e.current.lanes=s,ms(e,s,r),Ue(e,r),e}function zi(e,t,n,r){var s=t.current,i=Pe(),o=nn(s);return n=bh(n),t.context===null?t.context=n:t.pendingContext=n,t=Nt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(s,t,o),e!==null&&(dt(e,s,o,i),Gs(e,s,o)),o}function Ei(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ba(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function Nm(){return null}var Nh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ta(e){this._internalRoot=e}Ui.prototype.render=Ta.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));zi(e,t,null,null)};Ui.prototype.unmount=Ta.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){zi(null,e,null,null)}),t[Ot]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=od();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vt.length&&t!==0&&t<Vt[n].priority;n++);Vt.splice(n,0,e),n===0&&ad(e)}};function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gu(){}function Pm(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ei(o);i.call(u)}}var o=Th(t,r,e,0,null,!1,!1,"",Gu);return e._reactRootContainer=o,e[Ot]=o.current,ss(e.nodeType===8?e.parentNode:e),On(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ei(a);l.call(u)}}var a=Ca(e,0,!1,null,null,!1,!1,"",Gu);return e._reactRootContainer=a,e[Ot]=a.current,ss(e.nodeType===8?e.parentNode:e),On(function(){zi(t,a,n,r)}),a}function Bi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Ei(o);l.call(a)}}zi(t,o,e,s)}else o=Pm(n,t,e,s,r);return Ei(o)}sd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(ql(t,n|1),Ue(t,de()),!(J&6)&&(dr=de()+500,un()))}break;case 13:On(function(){var r=$t(e,1);if(r!==null){var s=Pe();dt(r,e,1,s)}}),ba(e,1)}};Gl=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var n=Pe();dt(t,e,134217728,n)}ba(e,134217728)}};id=function(e){if(e.tag===13){var t=nn(e),n=$t(e,t);if(n!==null){var r=Pe();dt(n,e,t,r)}ba(e,t)}};od=function(){return Y};ld=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Qo=function(e,t,n){switch(t){case"input":if(Uo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=$i(r);if(!s)throw Error(S(90));Mc(r),Uo(r,s)}}}break;case"textarea":Uc(e,n);break;case"select":t=n.value,t!=null&&Xn(e,!!n.multiple,t,!1)}};Qc=ka;qc=On;var Om={usingClientEntryPoint:!1,Events:[vs,Wn,$i,Wc,Kc,ka]},br={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$m={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yc(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||Nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Ti=Ms.inject($m),wt=Ms}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Om;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(t))throw Error(S(200));return Tm(e,t,null,n)};qe.createRoot=function(e,t){if(!Na(e))throw Error(S(299));var n=!1,r="",s=Nh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ca(e,1,!1,null,null,n,!1,r,s),e[Ot]=t.current,ss(e.nodeType===8?e.parentNode:e),new Ta(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Yc(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return On(e)};qe.hydrate=function(e,t,n){if(!Fi(t))throw Error(S(200));return Bi(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Na(e))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Nh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Th(t,null,e,1,n??null,s,!1,i,o),e[Ot]=t.current,ss(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ui(t)};qe.render=function(e,t,n){if(!Fi(t))throw Error(S(200));return Bi(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(S(40));return e._reactRootContainer?(On(function(){Bi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};qe.unstable_batchedUpdates=ka;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fi(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Bi(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function Ph(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ph)}catch(e){console.error(e)}}Ph(),Pc.exports=qe;var Rm=Pc.exports,Oh,Ju=Rm;Oh=Ju.createRoot,Ju.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>b.createElement("svg",{ref:c,...Lm,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Am(e)}`,l].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=ae("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ae("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ae("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ae("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ae("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ae("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ae("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Zm({viewMode:e,setViewMode:t}){const n=[{mode:"desktop",Icon:Vm,label:"Desktop"},{mode:"tablet",Icon:Gm,label:"Tablet"},{mode:"phone",Icon:qm,label:"Phone"}];return d.jsx("div",{className:"fixed top-4 right-4 bg-white rounded-lg shadow-md p-2 flex gap-2",children:n.map(({mode:r,Icon:s,label:i})=>d.jsxs("button",{onClick:()=>t(r),className:`p-2 rounded-md flex items-center gap-2 transition-colors
            ${e===r?"bg-blue-500 text-white":"hover:bg-gray-100"}`,title:i,children:[d.jsx(s,{size:20}),d.jsx("span",{className:"hidden sm:inline",children:i})]},r))})}function eg({userRole:e,setUserRole:t}){const n=[{role:"manager",Icon:Ym,label:"Manager"},{role:"employee",Icon:Oa,label:"Employee"}];return d.jsx("div",{className:"fixed top-4 left-4 bg-white rounded-lg shadow-md p-2 flex gap-2",children:n.map(({role:r,Icon:s,label:i})=>d.jsxs("button",{onClick:()=>t(r),className:`p-2 rounded-md flex items-center gap-2 transition-colors
            ${e===r?"bg-blue-500 text-white":"hover:bg-gray-100"}`,title:i,children:[d.jsx(s,{size:20}),d.jsx("span",{className:"hidden sm:inline",children:i})]},r))})}const Tr="5450 Katella Ave Suite 104, Los Alamitos, CA 90720",zs=["#FF0000","#00FF00","#0000FF","#FFA500","#800080","#008080","#FF69B4","#4B0082"],tg="AIzaSyDLqIkdsI2XU7AEmj1ROARqunAkoqj92OM";function ng({viewMode:e}){var V,B,he;const t=b.useRef(null),[n,r]=b.useState([{id:"1",address:""}]),[s,i]=b.useState(null),[o,l]=b.useState(null),[a,u]=b.useState([]),[c,h]=b.useState([]),[f,v]=b.useState(!1),[x,w]=b.useState(null),[C,m]=b.useState(null),p=b.useRef({}),g=b.useRef(!1),_=b.useRef([]),[E,$]=b.useState(null),[y,j]=b.useState(null),G=b.useRef(null),M=b.useRef(null);b.useEffect(()=>{y!=null&&y.isOpen&&G.current&&y.position&&(M.current=new google.maps.StreetViewPanorama(G.current,{position:y.position,pov:{heading:0,pitch:0},zoom:1,addressControl:!0,fullscreenControl:!0}))},[y==null?void 0:y.isOpen]),b.useEffect(()=>{if(!t.current||s)return;const N=()=>new Promise((A,W)=>{var I;if((I=window.google)!=null&&I.maps){A();return}if(g.current){const F=setInterval(()=>{var P;(P=window.google)!=null&&P.maps&&(clearInterval(F),A())},100);return}g.current=!0;const U=document.createElement("script");U.src=`https://maps.googleapis.com/maps/api/js?key=${tg}&libraries=places`,U.async=!0,U.defer=!0,U.onload=()=>A(),U.onerror=()=>W(new Error("Failed to load Google Maps API")),document.head.appendChild(U)});return(async()=>{try{await N();const A=new google.maps.Map(t.current,{center:{lat:33.7955,lng:-118.0722},zoom:12,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0}),W=new google.maps.DirectionsService,U=new google.maps.places.PlacesService(A),I=new google.maps.DistanceMatrixService;U.findPlaceFromQuery({query:Tr,fields:["place_id","geometry","formatted_address"]},(F,P)=>{var ve;if(P===google.maps.places.PlacesServiceStatus.OK&&(F!=null&&F[0])){m(F[0]);const fe=ft((ve=F[0].geometry)==null?void 0:ve.location,"A","Office");_.current.push(fe)}}),i(A),l(W),$(I),w(null)}catch(A){console.error("Error initializing map:",A),w("Failed to initialize map. Please refresh the page.")}})(),()=>{a.forEach(A=>A.setMap(null)),_.current.forEach(A=>A.setMap(null))}},[t.current]);const xe=async(N,R,A)=>{var W,U,I;if(!E)return null;try{const P=(W=(await new Promise((ve,fe)=>{E.getDistanceMatrix({origins:[N],destinations:[R],travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:A||new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}},(Fe,pt)=>{pt==="OK"&&Fe?ve(Fe):fe(pt)})})).rows[0])==null?void 0:W.elements[0];return((U=P==null?void 0:P.duration_in_traffic)==null?void 0:U.text)||((I=P==null?void 0:P.duration)==null?void 0:I.text)}catch(F){return console.error("Error calculating traffic time:",F),null}},xt=async(N,R)=>{const A=[...c],W=A[N];if(W.predictedTime||(W.predictedTime={enabled:!1}),W.predictedTime.enabled=R,!R)delete W.predictedTime.dateTime,delete W.predictedTime.duration;else{const U=new Date;U.setHours(U.getHours()+1),W.predictedTime.dateTime=U,await st(N,U)}h(A)},st=async(N,R)=>{var P,ve;const A=[...c],W=A[N];W.predictedTime.dateTime=R;let U=N===0?((P=C==null?void 0:C.geometry)==null?void 0:P.location)||Tr:n[N-1].placeId?{placeId:n[N-1].placeId}:n[N-1].address,I=N===c.length-1?((ve=C==null?void 0:C.geometry)==null?void 0:ve.location)||Tr:n[N].placeId?{placeId:n[N].placeId}:n[N].address;const F=await xe(U,I,R);F&&(W.predictedTime.duration=F),h(A)},ft=(N,R,A)=>{const W=new google.maps.Marker({position:N,map:s,label:R,title:A,animation:google.maps.Animation.DROP});return W.addListener("click",()=>{j({isOpen:!0,position:N,address:A,label:R})}),W},dn=()=>{r(N=>[...N,{id:String(N.length+1),address:""}])},hn=N=>{r(R=>R.filter(A=>A.id!==N))},It=(N,R,A)=>{r(W=>W.map(U=>U.id===N?{...U,address:R,placeId:A}:U))},T=()=>{var N;if(a.forEach(R=>R.setMap(null)),u([]),h([]),_.current.forEach(R=>R.setMap(null)),_.current=[],s&&C){const R=ft((N=C.geometry)==null?void 0:N.location,"A","Office");_.current.push(R)}},D=async()=>{var U,I,F;if(!o||!s||!C){alert("Map is not fully loaded yet. Please try again in a moment.");return}v(!0),T();const N=n.filter(P=>P.address.trim());if(N.length===0){alert("Please add at least one stop"),v(!1);return}const R=[{placeId:C.place_id},...N.map(P=>({placeId:P.placeId||void 0,address:P.address})),{placeId:C.place_id}],A=[],W=[];try{for(let P=0;P<R.length-1;P++){const ve=new google.maps.DirectionsRenderer({map:s,suppressMarkers:!0,polylineOptions:{strokeColor:zs[P%zs.length],strokeWeight:5}}),fe={travelMode:google.maps.TravelMode.DRIVING};R[P].placeId?fe.origin={placeId:R[P].placeId}:fe.origin=R[P].address,R[P+1].placeId?fe.destination={placeId:R[P+1].placeId}:fe.destination=R[P+1].address;const Fe=await new Promise((pt,fn)=>{o.route(fe,(Dt,pn)=>{pn===google.maps.DirectionsStatus.OK&&Dt?pt(Dt):fn(pn)})});if(ve.setDirections(Fe),W.push(ve),(U=Fe.routes[0])!=null&&U.legs[0]){if(P===0){const pn=ft(Fe.routes[0].legs[0].start_location,"A","Start: Office");_.current.push(pn)}const pt=ft(Fe.routes[0].legs[0].end_location,P===R.length-2?String.fromCharCode(65+N.length+1):String.fromCharCode(66+P),P===R.length-2?"End: Office":`Stop ${String.fromCharCode(66+P)}`);_.current.push(pt);const fn={from:R[P].placeId?C.formatted_address:R[P].address,to:R[P+1].placeId?C.formatted_address:R[P+1].address,distance:((I=Fe.routes[0].legs[0].distance)==null?void 0:I.text)||"N/A",duration:((F=Fe.routes[0].legs[0].duration)==null?void 0:F.text)||"N/A",color:zs[P%zs.length]},Dt=await xe(P===0?C.geometry.location:R[P].placeId?{placeId:R[P].placeId}:R[P].address,P===R.length-2?C.geometry.location:R[P+1].placeId?{placeId:R[P+1].placeId}:R[P+1].address);Dt&&(fn.trafficDuration=Dt),A.push(fn)}}u(W),h(A)}catch(P){console.error("Route calculation error:",P),alert("Error calculating route. Please check addresses and try again."),T()}v(!1)},z=(N,R)=>{var W;if(!N||p.current[R]||!((W=window.google)!=null&&W.maps))return;const A=new google.maps.places.Autocomplete(N,{types:["address"],componentRestrictions:{country:"us"},fields:["place_id","formatted_address"]});A.addListener("place_changed",()=>{const U=A.getPlace();U.formatted_address&&U.place_id&&It(R,U.formatted_address,U.place_id)}),p.current[R]=A},X=({segment:N,index:R})=>{var fn,Dt,pn,Ma,za,Ua;const[A,W]=b.useState(!1),[U,I]=b.useState(()=>{const te=new Date;return`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`}),[F,P]=b.useState(()=>new Date().getHours()>=12?"PM":"AM"),ve=te=>{const Je=te.getHours(),mn=te.getMinutes().toString().padStart(2,"0"),Yi=Je>=12?"PM":"AM",Xi=Je%12||12;return`${te.toLocaleDateString()} at ${Xi}:${mn} ${Yi}`},fe=async(te,Je=U,mn=F)=>{const[Yi,Xi]=Je.split(":"),Fa=new Date(te);let wr=parseInt(Yi);mn==="PM"&&wr!==12&&(wr+=12),mn==="AM"&&wr===12&&(wr=0),Fa.setHours(wr,parseInt(Xi)),await st(R,Fa)},Fe=te=>{var mn;const Je=te.target.value;I(Je),(mn=N.predictedTime)!=null&&mn.dateTime&&fe(N.predictedTime.dateTime.toISOString().split("T")[0],Je,F)},pt=te=>{var Je;P(te),(Je=N.predictedTime)!=null&&Je.dateTime&&fe(N.predictedTime.dateTime.toISOString().split("T")[0],U,te)};return d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(Yu,{size:16,className:"text-gray-500"}),d.jsxs("span",{className:"text-gray-700",children:["Current traffic: ",N.trafficDuration||"N/A"]})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("button",{onClick:()=>{var te;return xt(R,!((te=N.predictedTime)!=null&&te.enabled))},className:"relative inline-flex items-center gap-2",role:"switch","aria-checked":(fn=N.predictedTime)==null?void 0:fn.enabled,children:[d.jsx("div",{className:`w-9 h-5 flex items-center rounded-full p-1 duration-300 ease-in-out ${(Dt=N.predictedTime)!=null&&Dt.enabled?"bg-blue-600":"bg-gray-200"}`,children:d.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${(pn=N.predictedTime)!=null&&pn.enabled?"translate-x-4":"translate-x-0"}`})}),d.jsx("span",{className:"text-sm font-medium",children:"Exact Time"})]})}),((Ma=N.predictedTime)==null?void 0:Ma.enabled)&&d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs("button",{onClick:()=>W(!A),className:"text-sm px-3 py-1.5 rounded-md bg-blue-50 text-blue-600 hover:bg-blue-100 flex items-center gap-2",children:[d.jsx(Im,{size:16}),N.predictedTime.dateTime?ve(N.predictedTime.dateTime):"Select time"]}),A&&d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"absolute z-10 mt-1 bg-white rounded-lg shadow-lg border p-4",children:[d.jsx("input",{type:"date",className:"w-full mb-4 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:te=>fe(te.target.value),value:((za=N.predictedTime.dateTime)==null?void 0:za.toISOString().split("T")[0])||"",min:new Date().toISOString().split("T")[0]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"time",className:"flex-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:U,onChange:Fe,onBlur:te=>te.stopPropagation()}),d.jsx("div",{className:"flex rounded-md overflow-hidden border",children:["AM","PM"].map(te=>d.jsx("button",{onClick:Je=>{Je.preventDefault(),pt(te)},className:`px-3 py-2 text-sm font-medium ${F===te?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:te},te))})]})]})})]})]}),((Ua=N.predictedTime)==null?void 0:Ua.enabled)&&N.predictedTime.duration&&d.jsxs("div",{className:"text-sm font-medium text-blue-600 flex items-center gap-2",children:[d.jsx(Yu,{size:16}),"Predicted time: ",N.predictedTime.duration]})]})},ue=()=>y!=null&&y.isOpen?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:[d.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Street View"}),d.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["Stop ",y.label]})]}),d.jsx("button",{onClick:()=>j(null),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(_n,{size:20})})]}),d.jsx("div",{ref:G,className:"w-full h-[500px]"}),d.jsx("div",{className:"p-4 bg-gray-50 text-sm text-gray-600",children:y.address})]})}):null,k={desktop:"flex-row",tablet:"flex-col",phone:"flex-col"},L={desktop:"w-3/4 h-[700px]",tablet:"w-full h-[500px]",phone:"w-full h-[400px]"},K={desktop:"w-1/4",tablet:"w-full",phone:"w-full"};return x?d.jsx("div",{className:"p-8 text-center",children:d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-red-600",children:x}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Refresh Page"})]})}):d.jsxs("div",{className:"p-4",children:[d.jsx(ue,{}),d.jsxs("div",{className:`flex ${k[e]} gap-6`,children:[d.jsx("div",{className:`${L[e]} order-2 ${e==="desktop"?"order-1":""}`,children:d.jsx("div",{ref:t,className:"w-full h-full rounded-lg shadow-md"})}),d.jsxs("div",{className:`${K[e]} order-1 ${e==="desktop"?"order-2":""} bg-white rounded-lg shadow-md p-4`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Route Details"}),d.jsx("button",{onClick:T,className:"p-2 text-gray-600 hover:text-gray-800 rounded-md hover:bg-gray-100",title:"Reset Route",children:d.jsx(Km,{size:20})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[d.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Start: Office (A)"}),d.jsx("div",{className:"text-blue-600 text-sm",children:(C==null?void 0:C.formatted_address)||Tr})]}),n.map((N,R)=>d.jsxs("div",{className:"space-y-2",children:[c[R]&&d.jsxs("div",{className:"py-2 px-3 bg-gray-50 rounded-md border-l-4",style:{borderColor:c[R].color},children:[d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"font-medium",children:c[R].distance}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsx("span",{className:"text-gray-600",children:c[R].duration})]}),d.jsx(X,{segment:c[R],index:R})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:["Stop ",String.fromCharCode(66+R)]}),d.jsx("input",{type:"text",value:N.address,onChange:A=>It(N.id,A.target.value),placeholder:"Enter address",className:"w-full p-2 border rounded-md",ref:A=>{A&&z(A,N.id)}})]}),d.jsx("button",{onClick:()=>hn(N.id),className:"self-end p-2 text-red-500 hover:text-red-700 rounded-md hover:bg-red-50",title:"Remove Stop",disabled:n.length===1,children:d.jsx(Hm,{size:20})})]})]},N.id)),d.jsxs("button",{onClick:dn,className:"w-full p-2 text-blue-600 hover:text-blue-800 rounded-md border-2 border-dashed border-blue-200 hover:border-blue-300 flex items-center justify-center gap-2",children:[d.jsx(Pa,{size:20}),"Add Stop"]}),c.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"py-2 px-3 bg-gray-50 rounded-md border-l-4",style:{borderColor:(V=c[c.length-1])==null?void 0:V.color},children:[d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"font-medium",children:(B=c[c.length-1])==null?void 0:B.distance}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsx("span",{className:"text-gray-600",children:(he=c[c.length-1])==null?void 0:he.duration})]}),d.jsx(X,{segment:c[c.length-1],index:c.length-1})]}),d.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[d.jsxs("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:["End: Office (",String.fromCharCode(65+n.length+1),")"]}),d.jsx("div",{className:"text-blue-600 text-sm",children:(C==null?void 0:C.formatted_address)||Tr})]})]}),d.jsx("button",{onClick:D,disabled:f||n.length===0,className:"w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors disabled:bg-blue-300",children:f?d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx(Um,{className:"animate-spin",size:20}),"Calculating..."]}):"Calculate Route"})]})]})]})]})}const Xu=24*60,Nr=60,Co=15,Pr=200,bo=10,Zu=4,rg=80,ec=["rgba(59, 130, 246, 0.9)","rgba(16, 185, 129, 0.9)","rgba(245, 158, 11, 0.9)","rgba(239, 68, 68, 0.9)","rgba(139, 92, 246, 0.9)"],sg=[{id:"1",name:"Johnny",color:"#FF6B6B"},{id:"2",name:"Cristiani",color:"#4ECDC4"},{id:"3",name:"Alex",color:"#45B7D1"},{id:"4",name:"Christian",color:"#96CEB4"},{id:"5",name:"Stewart",color:"#FFEEAD"},{id:"6",name:"Manny",color:"#D4A5A5"},{id:"7",name:"Cory",color:"#9B89B3"}],tc=e=>e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});function ig({viewMode:e}){const[t,n]=b.useState([]),[r,s]=b.useState(new Date),[i,o]=b.useState(null),[l,a]=b.useState(null),[u,c]=b.useState(null),[h,f]=b.useState(sg),[v,x]=b.useState(!1),[w,C]=b.useState(""),[m,p]=b.useState(null),g=b.useRef(null),_=b.useRef({}),E=b.useRef(!1),$=b.useRef(null),y=b.useRef(null),j=k=>k/Xu*(24*Nr),G=k=>Math.round(k/(24*Nr)*Xu),M=k=>Math.round(k/Co)*Co,xe=k=>{if(!g.current)return new Date;const L=g.current.getBoundingClientRect(),K=k-L.top,V=M(G(K)),B=new Date(r);return B.setHours(Math.floor(V/60),V%60,0,0),B},xt=(k,L)=>{for(let K=0;K<Zu;K++)if(!t.some(B=>B.column===K&&k<new Date(B.end)&&L>new Date(B.start)))return K;return 0},st=k=>{if(l!=null&&l.isDragging)return null;const L=xe(k),K=new Date(L);K.setHours(L.getHours()+1);const V=xt(L,K),B={id:Math.random().toString(36).substring(7),title:"New Block",start:L,end:K,column:V,color:ec[t.length%ec.length],assignedMovers:[]};return n(he=>[...he,B]),B},ft=(k,L)=>{L==null||L.stopPropagation(),n(K=>K.filter(V=>V.id!==k)),(i==null?void 0:i.id)===k&&o(null)},dn=(k,L,K)=>{var N;k.preventDefault(),k.stopPropagation(),E.current=!0;const V=_.current[L.id];if(!V)return;if(u&&K!=="prep"){clearTimeout(u),c(null),o(L);return}const B=setTimeout(()=>{c(null)},300);c(B);const he=V.getBoundingClientRect();a({type:K,blockId:L.id,initialX:k.clientX,initialY:k.clientY,initialColumn:L.column,initialHeight:K==="resize"?he.height:void 0,initialTop:K==="move"?he.top:void 0,initialPrepHeight:K==="prep"?((N=L.prepTime)==null?void 0:N.duration)||0:void 0,isDragging:!0})};b.useEffect(()=>{const k=K=>{if(!l||!g.current)return;K.preventDefault();const V=t.find(A=>A.id===l.blockId);if(!V)return;const B=_.current[l.blockId];if(!B)return;const he=g.current.getBoundingClientRect(),N=K.clientY-l.initialY,R=K.clientX-l.initialX;if(l.type==="move"){const A=Pr+bo,W=Math.round(R/A),U=Math.max(0,Math.min(Zu-1,(l.initialColumn||0)+W)),I=Math.max(0,Math.min((l.initialTop||0)+N-he.top,he.height-B.offsetHeight)),F=xe(I+he.top),P=V.end.getTime()-V.start.getTime();n(ve=>ve.map(fe=>{if(fe.id===V.id){const Fe=new Date(F.getTime()+P),pt=fe.prepTime?{start:new Date(F.getTime()-fe.prepTime.duration*6e4),duration:fe.prepTime.duration}:void 0;return{...fe,start:F,end:Fe,column:U,prepTime:pt}}return fe}))}else if(l.type==="resize"){const A=Math.max(Co,l.initialHeight+N),W=M(G(A));n(U=>U.map(I=>{if(I.id===V.id){const F=new Date(I.start);return F.setMinutes(F.getMinutes()+W),{...I,end:F}}return I}))}else if(l.type==="prep"){const A=V.start.getHours()*60+V.start.getMinutes(),W=Math.max(0,Math.min(A,M(G(N))));n(U=>U.map(I=>{if(I.id===V.id){if(W===0){const{prepTime:F,...P}=I;return P}return{...I,prepTime:{start:new Date(I.start.getTime()-W*6e4),duration:W}}}return I}))}},L=()=>{$.current&&clearTimeout($.current),$.current=setTimeout(()=>{E.current=!1},50),a(null)};return l&&(document.addEventListener("mousemove",k),document.addEventListener("mouseup",L),document.body.classList.add("select-none")),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",L),document.body.classList.remove("select-none")}},[l,t]);const hn=k=>{l||E.current||st(k.clientY)},It=k=>k<=15?"0":`${k-15}`,T=k=>{const L=new Date(k);return L.setMinutes(k.getMinutes()+15),L},D=()=>{if(!w.trim())return;const k={id:(h.length+1).toString(),name:w.trim(),color:`#${Math.floor(Math.random()*16777215).toString(16)}`};f(L=>[...L,k]),C("")},z=k=>{f(L=>L.filter(K=>K.id!==k)),n(L=>L.map(K=>{var V;return{...K,assignedMovers:((V=K.assignedMovers)==null?void 0:V.filter(B=>B!==k))||[]}})),p(null)};b.useEffect(()=>{v&&y.current&&y.current.focus()},[v]);const X=()=>d.jsxs("div",{className:"fixed top-20 right-4 bg-white rounded-lg shadow-lg p-4 w-64 z-50",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-medium",children:"Manage Movers"}),d.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(_n,{size:20})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"space-y-2",children:h.map(k=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:k.color}}),d.jsx("span",{children:k.name})]}),d.jsx("button",{onClick:()=>p(k.id),className:"text-red-500 hover:text-red-700",children:d.jsx(_n,{size:16})}),m===k.id&&d.jsxs("div",{className:"absolute right-0 top-0 mt-12 bg-white rounded-lg shadow-lg p-4 w-64 z-50",children:[d.jsxs("p",{className:"text-sm mb-4",children:["Are you sure you want to remove ",k.name,"?"]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>p(null),className:"px-3 py-1 text-gray-600 hover:text-gray-800",children:"Cancel"}),d.jsx("button",{onClick:()=>z(k.id),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]})]})]},k.id))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{ref:y,type:"text",value:w,onChange:k=>C(k.target.value),onKeyDown:k=>{k.key==="Enter"&&D()},placeholder:"New mover name",className:"flex-1 px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx("button",{onClick:D,className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add"})]})]})]}),ue=({block:k})=>{const[L,K]=b.useState(k),[V,B]=b.useState(""),he=b.useRef(null),N=I=>{I.preventDefault(),I.stopPropagation()},R=I=>{const{name:F,value:P}=I.target;K(ve=>({...ve,[F]:P}))},A=(I=!1)=>{I&&n(F=>F.map(P=>P.id===k.id?{...L}:P)),o(null)},W=I=>{const F=L.assignedMovers||[],P=F.indexOf(I);P===-1?F.push(I):F.splice(P,1),K(ve=>({...ve,assignedMovers:F}))},U=h.filter(I=>I.name.toLowerCase().includes(V.toLowerCase()));return b.useEffect(()=>{he.current&&he.current.focus()},[]),d.jsxs("div",{className:"absolute z-50 bg-white rounded-lg shadow-xl p-4 space-y-4",style:{left:`${k.column*(Pr+bo)+Pr+40}px`,top:`${j(k.start.getHours()*60+k.start.getMinutes())}px`,width:"300px"},onClick:N,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Edit Block"}),d.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(_n,{size:20})})]}),d.jsx("input",{type:"text",name:"title",value:L.title,onChange:R,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Block title"}),d.jsx("input",{type:"text",name:"location",value:L.location||"",onChange:R,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Location"}),d.jsx("textarea",{name:"description",value:L.description||"",onChange:R,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Description",rows:3}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign Movers"}),d.jsx("input",{ref:he,type:"text",value:V,onChange:I=>B(I.target.value),placeholder:"Search movers...",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:U.map(I=>{var F,P;return d.jsxs("button",{onClick:()=>W(I.id),className:`flex items-center gap-1 px-2 py-1 rounded text-sm
                  ${(F=L.assignedMovers)!=null&&F.includes(I.id)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[d.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:I.color}}),I.name,((P=L.assignedMovers)==null?void 0:P.includes(I.id))&&d.jsx(_n,{size:14,className:"ml-1"})]},I.id)})})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>{ft(k.id),A(!1)},className:"px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md",children:"Delete"}),d.jsx("button",{onClick:()=>A(!0),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Done"})]})]})};return d.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[d.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>window.history.back(),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back"}),d.jsx("button",{onClick:()=>{const k=new Date(r);k.setDate(r.getDate()-1),s(k)},className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(Dm,{size:20})}),d.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[d.jsx($h,{size:24,className:"text-blue-500"}),r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]}),d.jsx("button",{onClick:()=>{const k=new Date(r);k.setDate(r.getDate()+1),s(k)},className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(Mm,{size:20})}),d.jsxs("button",{onClick:()=>{const k=new Date;st(j(k.getHours()*60+k.getMinutes()))},className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",children:[d.jsx(Pa,{size:20}),"Add Block"]}),d.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-2",children:[d.jsx(Oa,{size:20}),"Manage Movers"]})]})}),v&&d.jsx(X,{}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{ref:g,className:"relative min-h-full",style:{height:`${24*Nr}px`},onClick:hn,children:[d.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-[90px] border-r-2 border-blue-100 bg-gradient-to-r from-blue-50 to-white z-20",children:Array.from({length:24},(k,L)=>d.jsx("div",{className:"absolute w-full flex items-center justify-end",style:{top:`${L*Nr-12}px`},children:d.jsx("div",{className:"mr-2 px-3 py-1 bg-blue-200 text-blue-800 rounded-md shadow-sm min-w-[70px] text-center text-sm",children:L===0?"12 AM":L<12?`${L} AM`:L===12?"12 PM":`${L-12} PM`})},L))}),d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:24},(k,L)=>d.jsx("div",{className:"absolute w-full border-t border-blue-100",style:{top:`${L*Nr}px`,left:"90px"}},L))}),t.filter(k=>k.start.toDateString()===r.toDateString()).map(k=>{const L=k.start.getHours()*60+k.start.getMinutes(),V=k.end.getHours()*60+k.end.getMinutes()-L;return d.jsxs("div",{ref:B=>_.current[k.id]=B,className:`absolute rounded-lg shadow-sm cursor-move transition-shadow hover:shadow-md
                    ${(l==null?void 0:l.blockId)===k.id?"z-40":"z-30"}`,style:{top:`${j(L)}px`,left:`${rg+10+k.column*(Pr+bo)}px`,height:`${j(V)}px`,backgroundColor:k.color,width:`${Pr}px`,backdropFilter:"blur(4px)",transition:(l==null?void 0:l.blockId)===k.id?"none":"background-color 0.2s"},onMouseDown:B=>dn(B,k,"move"),children:[d.jsx("div",{className:"absolute left-0 right-0 -top-4 h-4 flex items-center justify-center cursor-ns-resize group z-50",onMouseDown:B=>{B.stopPropagation(),dn(B,k,"prep")},children:d.jsx("div",{className:"w-8 h-2 bg-white rounded-full shadow-md group-hover:shadow-lg group-hover:scale-110 transition-all"})}),k.prepTime&&d.jsx("div",{className:"absolute left-0 right-0 rounded-t-lg transition-all",style:{top:`-${j(k.prepTime.duration)}px`,height:`${j(k.prepTime.duration)}px`,backgroundColor:`${k.color.replace("0.9","0.5")}`,pointerEvents:(l==null?void 0:l.type)==="prep"?"none":"auto",zIndex:(l==null?void 0:l.type)==="prep"?45:35},children:d.jsx("div",{className:"p-2 text-white",children:d.jsxs("div",{className:"text-sm space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Start Time:"}),d.jsx("span",{className:"font-medium",children:tc(k.prepTime.start)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Departure:"}),d.jsx("span",{className:"font-medium",children:tc(T(k.prepTime.start))})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Drive Time:"}),d.jsxs("span",{className:"font-medium",children:[It(k.prepTime.duration)," minutes"]})]})]})})}),d.jsxs("div",{className:"p-2 text-white h-full flex flex-col relative",children:[d.jsx("button",{onClick:B=>ft(k.id,B),className:"absolute top-1 right-1 p-1 hover:bg-white/20 rounded-full",title:"Delete Block",children:d.jsx(_n,{size:16})}),d.jsx("div",{className:"font-medium truncate mt-4",children:k.title}),V>=30&&d.jsxs(d.Fragment,{children:[k.location&&d.jsx("div",{className:"text-sm opacity-90 truncate",children:k.location}),d.jsxs("div",{className:"text-sm opacity-90",children:[k.prepTime?"Move: ":"",k.start.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",k.end.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),k.assignedMovers&&k.assignedMovers.length>0&&d.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:k.assignedMovers.map(B=>{const he=h.find(N=>N.id===B);return he?d.jsxs("div",{className:"flex items-center gap-1 px-1. 5 py-0.5 rounded text-xs bg-white/20",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:he.color}}),he.name]},he.id):null})})]})]}),d.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-2 cursor-ns-resize bg-black bg-opacity-10 
                      hover:bg-opacity-20 rounded-b-lg z-50`,onMouseDown:B=>{B.stopPropagation(),dn(B,k,"resize")}})]},k.id)}),i&&d.jsx(ue,{block:i})]})})]})}const og="modulepreload",lg=function(e){return"/"+e},nc={},hr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=lg(a),a in nc)return;nc[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":og,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ag=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class $a extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ug extends $a{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cg extends $a{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dg extends $a{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cl||(Cl={}));var hg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class fg{constructor(t,{headers:n={},customFetch:r,region:s=Cl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ag(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return hg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new ug(x)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new cg(c);if(!c.ok)throw new dg(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield c.json():f==="application/octet-stream"?v=yield c.blob():f==="text/event-stream"?v=c:f==="multipart/form-data"?v=yield c.formData():v=yield c.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Ie={},Ra={},Hi={},ws={},Vi={},Wi={},pg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fr=pg();const mg=fr.fetch,Lh=fr.fetch.bind(fr),Ah=fr.Headers,gg=fr.Request,vg=fr.Response,vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ah,Request:gg,Response:vg,default:Lh,fetch:mg},Symbol.toStringTag,{value:"Module"})),yg=lf(vr);var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});let wg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ki.default=wg;var Ih=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wi,"__esModule",{value:!0});const _g=Ih(yg),xg=Ih(Ki);let kg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=_g.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,c=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new xg.default(u)}return{error:u,data:c,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};Wi.default=kg;var Sg=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const jg=Sg(Wi);let Eg=class extends jg.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vi.default=Eg;var Cg=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});const bg=Cg(Vi);let Tg=class extends bg.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ws.default=Tg;var Ng=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const Or=Ng(ws);let Pg=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Or.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Or.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Or.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Or.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Or.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hi.default=Pg;var Qi={},qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.version=void 0;qi.version="0.0.0-automated";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.DEFAULT_HEADERS=void 0;const Og=qi;Qi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Og.version}`};var Dh=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});const $g=Dh(Hi),Rg=Dh(ws),Lg=Qi;let Ag=class Mh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Lg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new $g.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Mh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{l.searchParams.append(c,h)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Rg.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Ra.default=Ag;var yr=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const zh=yr(Ra);Ie.PostgrestClient=zh.default;const Uh=yr(Hi);Ie.PostgrestQueryBuilder=Uh.default;const Fh=yr(ws);Ie.PostgrestFilterBuilder=Fh.default;const Bh=yr(Vi);Ie.PostgrestTransformBuilder=Bh.default;const Hh=yr(Wi);Ie.PostgrestBuilder=Hh.default;const Vh=yr(Ki);Ie.PostgrestError=Vh.default;var Ig=Ie.default={PostgrestClient:zh.default,PostgrestQueryBuilder:Uh.default,PostgrestFilterBuilder:Fh.default,PostgrestTransformBuilder:Bh.default,PostgrestBuilder:Hh.default,PostgrestError:Vh.default};const{PostgrestClient:Dg,PostgrestQueryBuilder:iy,PostgrestFilterBuilder:oy,PostgrestTransformBuilder:ly,PostgrestBuilder:ay,PostgrestError:uy}=Ig,Mg="2.11.2",zg={"X-Client-Info":`realtime-js/${Mg}`},Ug="1.0.0",Wh=1e4,Fg=1e3;var sr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sr||(sr={}));var Be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Be||(Be={}));var at;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(at||(at={}));var bl;(function(e){e.websocket="websocket"})(bl||(bl={}));var xn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xn||(xn={}));class Bg{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const a=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Kh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const rc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Hg(o,e,t,s),i),{})},Hg=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Qh(i,o):Tl(o)},Qh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Qg(t,n)}switch(e){case Z.bool:return Vg(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return Wg(t);case Z.json:case Z.jsonb:return Kg(t);case Z.timestamp:return qg(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Tl(t);default:return Tl(t)}},Tl=e=>e,Vg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Kg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Qg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Qh(t,l))}return e},qg=e=>typeof e=="string"?e.replace(" ","T"):e,qh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class To{constructor(t,n,r={},s=Wh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sc||(sc={}));class qr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=qr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=qr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(C=>C.presence_ref),v=h.map(C=>C.presence_ref),x=c.filter(C=>v.indexOf(C.presence_ref)<0),w=h.filter(C=>f.indexOf(C.presence_ref)<0);x.length>0&&(l[u]=x),w.length>0&&(a[u]=w)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),c.length>0){const h=t[l].map(v=>v.presence_ref),f=c.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...f)}r(l,c,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const c=a.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,a),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ic;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ic||(ic={}));var oc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(oc||(oc={}));var jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jt||(jt={}));class La{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new To(this,at.join,this.params,this.timeout),this.rejoinTimer=new Kh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new qr(this),this.broadcastEndpointURL=qh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(c=>t==null?void 0:t(jt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(jt.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(jt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<v;w++){const C=f[w],{filter:{event:m,schema:p,table:g,filter:_}}=C,E=c&&c[w];if(E&&E.event===m&&E.schema===p&&E.table===g&&E.filter===_)x.push(Object.assign(Object.assign({},C),{id:E.id}));else{this.unsubscribe(),t==null||t(jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(jt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new To(this,at.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new To(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=at;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,w,C;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(w=v.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,w,C,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,E=(x=v.filter)===null||x===void 0?void 0:x.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const _=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:w,table:C,commit_timestamp:m,type:p,errors:g}=x;f=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(x))}v.callback(f,r)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&La.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(at.close,{},t)}_onError(t){this._on(at.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=rc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=rc(t.columns,t.old_record)),n}}const Gg=()=>{},Jg=typeof WebSocket<"u",Yg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xg{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=zg,this.params={},this.timeout=Wh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Gg,this.conn=null,this.sendBuffer=[],this.serializer=new Bg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>hr(async()=>{const{default:a}=await Promise.resolve().then(()=>vr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${bl.websocket}`,this.httpEndpoint=qh(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Kh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Jg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Zg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),hr(async()=>{const{default:t}=await import("./browser-D4ALFrXt.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ug}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case sr.connecting:return xn.Connecting;case sr.open:return xn.Open;case sr.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}channel(t,n={config:{}}){const r=new La(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(at.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Fg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(at.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Yg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Zg{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=sr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Aa extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class e0 extends Aa{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nl extends Aa{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var t0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Gh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},n0=()=>t0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hr(()=>Promise.resolve().then(()=>vr),void 0)).Response:Response}),Pl=e=>{if(Array.isArray(e))return e.map(n=>Pl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Pl(r)}),t};var Ln=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const No=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r0=(e,t,n)=>Ln(void 0,void 0,void 0,function*(){const r=yield n0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new e0(No(s),e.status||500))}).catch(s=>{t(new Nl(No(s),s))}):t(new Nl(No(e),e))}),s0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function _s(e,t,n,r,s,i){return Ln(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,s0(t,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>r0(a,l,r))})})}function Ci(e,t,n,r){return Ln(this,void 0,void 0,function*(){return _s(e,"GET",t,n,r)})}function Ht(e,t,n,r,s){return Ln(this,void 0,void 0,function*(){return _s(e,"POST",t,r,s,n)})}function i0(e,t,n,r,s){return Ln(this,void 0,void 0,function*(){return _s(e,"PUT",t,r,s,n)})}function o0(e,t,n,r){return Ln(this,void 0,void 0,function*(){return _s(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jh(e,t,n,r,s){return Ln(this,void 0,void 0,function*(){return _s(e,"DELETE",t,r,s,n)})}var Re=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const l0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a0{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Gh(s)}uploadOrUpdate(t,n,r,s){return Re(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:lc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ye(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return Re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ht(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Aa("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}update(t,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Re(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Re(this,void 0,void 0,function*(){try{const s=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(t,n){return Re(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ci(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}info(t){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ci(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Pl(r),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}exists(t){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield o0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ye(r)&&r instanceof Nl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}list(t,n,r){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},l0),n),{prefix:t||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const u0="2.7.1",c0={"X-Client-Info":`storage-js/${u0}`};var Dn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class d0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},c0),n),this.fetch=Gh(r)}listBuckets(){return Dn(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Dn(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Dn(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}}class h0 extends d0{constructor(t,n={},r){super(t,n,r)}from(t){return new a0(this.url,this.headers,t,this.fetch)}}const f0="2.48.1";let Mr="";typeof Deno<"u"?Mr="deno":typeof document<"u"?Mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mr="react-native":Mr="node";const p0={"X-Client-Info":`supabase-js-${Mr}/${f0}`},m0={headers:p0},g0={schema:"public"},v0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y0={};var w0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const _0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lh:t=fetch,(...n)=>t(...n)},x0=()=>typeof Headers>"u"?Ah:Headers,k0=(e,t,n)=>{const r=_0(n),s=x0();return(i,o)=>w0(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var S0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};function j0(e){return e.replace(/\/$/,"")}function E0(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:a,global:u}=t,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>S0(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Yh="2.67.3",C0="http://localhost:9999",b0="supabase.auth.token",T0={"X-Client-Info":`gotrue-js/${Yh}`},ac=10,Ol="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function N0(e){return Math.round(Date.now()/1e3)+e}function P0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const gt=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},Gr=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function O0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Zh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},$0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ef=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Us=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Fs=async(e,t)=>{await e.removeItem(t)};function R0(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,a,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|l>>4,s=(l&15)<<4|a>>2,i=(a&3)<<6|u,n=n+String.fromCharCode(r),a!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Gi{constructor(){this.promise=new Gi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Gi.promiseConstructor=Promise;function uc(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(R0(r))}async function L0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A0(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function I0(e){return("0"+e.toString(16)).substr(-2)}function D0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,I0).join("")}async function M0(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function z0(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function U0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await M0(e);return z0(n)}async function Mn(e,t,n=!1){const r=D0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ef(e,`${t}-code-verifier`,s);const i=await U0(r);return[i,r===i?"plain":"s256"]}const F0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B0(e){const t=e.headers.get(Ol);if(!t||!t.match(F0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Ia extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class H0 extends Ia{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function V0(e){return H(e)&&e.name==="AuthApiError"}class tf extends Ia{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class An extends Ia{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class zt extends An{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W0(e){return H(e)&&e.name==="AuthSessionMissingError"}class Po extends An{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bs extends An{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hs extends An{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K0(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class cc extends An{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $l extends An{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Oo(e){return H(e)&&e.name==="AuthRetryableFetchError"}class dc extends An{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Q0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),q0=[502,503,504];async function hc(e){var t;if(!$0(e))throw new $l(wn(e),0);if(q0.includes(e.status))throw new $l(wn(e),e.status);let n;try{n=await e.json()}catch(i){throw new tf(wn(i),i)}let r;const s=B0(e);if(s&&s.getTime()>=Xh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dc(wn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new dc(wn(n),e.status,n.weak_password.reasons);throw new H0(wn(n),e.status||500,r)}const G0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function q(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ol]||(i[Ol]=Xh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await J0(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function J0(e,t,n,r,s,i){const o=G0(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new $l(wn(a),0)}if(l.ok||await hc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await hc(a)}}function Ut(e){var t;let n=null;ev(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=N0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function fc(e){const t=Ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Y0(e){return{data:e,error:null}}function X0(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Q0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Z0(e){return e}function ev(e){return e.access_token&&e.refresh_token&&e.expires_in}var tv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class nv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Zh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tv(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:X0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Z0});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);u[`${C}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}const rv={getItem:e=>Gr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Gr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Gr()&&globalThis.localStorage.removeItem(e)}};function pc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function sv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zn={debug:!!(globalThis&&Gr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iv extends nf{}async function ov(e,t,n){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}sv();const lv={url:C0,storageKey:b0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},$r=30*1e3,mc=3;async function gc(e,t,n){return await n()}class fs{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fs.nextInstanceID,fs.nextInstanceID+=1,this.instanceID>0&&gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},lv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new nv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zh(s.fetch),this.lock=s.lock||gc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:gt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ov:this.lock=gc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Gr()?this.storage=rv:(this.memoryStorage={},this.storage=pc(this.memoryStorage)):(this.memoryStorage={},this.storage=pc(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=O0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),gt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),K0(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new tf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ut}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Mn(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:x},xform:Ut})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ut})}else throw new Bs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fc})}else throw new Bs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Po}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Us(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ut});if(await Fs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Po}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ut}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Po}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Mn(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:c}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Bs("You must provide either an email or phone number.")}catch(l){if(H(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ut});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Mn(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Y0})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new zt;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Bs("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(n){if(H(n))return W0(n)&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new zt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await Mn(this.storage,this.storageKey));const{data:u,error:c}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return uc(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=uc(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new zt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!gt())throw new Hs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!i||!l||!o||!u)throw new Hs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let f=c+h;a&&(f=parseInt(a));const v=f-c;v*1e3<=$r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=f-h;c-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,c):c-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,c);const{data:w,error:C}=await this._getUser(i);if(C)throw C;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(V0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=P0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Mn(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return gt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await A0(async s=>(s>0&&await L0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Oo(i)&&Date.now()+o-r<$r})}catch(r){if(this._debug(n,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),gt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Us(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+ac;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ac}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Oo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),H(i)){const o={session:null,error:i};return Oo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ef(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Fs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$r);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/$r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$r}ms, refresh threshold is ${mc} ticks`),s<=mc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Mn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}}fs.nextInstanceID=0;const av=fs;class uv extends av{constructor(t){super(t)}}var cv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class dv{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=j0(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:g0,realtime:y0,auth:Object.assign(Object.assign({},v0),{storageKey:a}),global:m0},c=E0(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=k0(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Dg(`${l}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new fg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new h0(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return cv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uv({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Xg(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hv=(e,t,n)=>new dv(e,t,n),Et=hv("https://hyrwgeuzestrucwxsjjf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5cndnZXV6ZXN0cnVjd3hzampmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgxMDUwNzgsImV4cCI6MjA1MzY4MTA3OH0.e-OwVv-TO0Jefb6TVEpwBeP5yBTYaV00Dgo-3tzwS8I");async function fv(e){const n=(await e.text()).split(`
`),r=n[0].split(",").map(l=>l.trim()),s=n.slice(1).map(l=>{const a=l.split(",").map(c=>c.trim()),u={};return r.forEach((c,h)=>{const f=a[h];switch(c.toLowerCase()){case"business_name":u.business_name=f;break;case"contact_name":u.contact_name=f;break;case"email":u.email=f;break;case"phone":u.phone=f;break;case"website":u.website=f;break;case"address":u.address=f;break;case"zip_code":u.zip_code=f;break;case"business_type":u.business_type=f;break}}),u.status="New",u.contacted=!1,u.responded=!1,u.source="import",u.created_at=new Date().toISOString(),u}),{data:i,error:o}=await Et.from("leads").insert(s);if(o)throw o;return i}async function pv(){const{data:e,error:t}=await Et.from("leads").select("*").order("created_at",{ascending:!1});if(t)throw t;const r=[["Business Name","Contact Name","Email","Phone","Website","Address","ZIP Code","Business Type","Status","Contacted","Responded","Notes","Last Contact Date","Created At"].join(","),...e.map(l=>[l.business_name,l.contact_name||"",l.email||"",l.phone||"",l.website||"",l.address||"",l.zip_code||"",l.business_type||"",l.status,l.contacted,l.responded,(l.notes||"").replace(/,/g,";"),l.last_contact_date||"",l.created_at].join(","))].join(`
`),s=new Blob([r],{type:"text/csv"}),i=window.URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=`leads-${new Date().toISOString().split("T")[0]}.csv`,o.click(),window.URL.revokeObjectURL(i)}let mv={data:""},gv=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||mv,vv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yv=/\/\*[^]*?\*\/|  +/g,vc=/\n+/g,Qt=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Qt(o,i):i+"{"+Qt(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Qt(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,l):l?l+" "+a:a)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Qt.p?Qt.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},kt={},rf=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+rf(e[n]);return t}return e},wv=(e,t,n,r,s)=>{let i=rf(e),o=kt[i]||(kt[i]=(a=>{let u=0,c=11;for(;u<a.length;)c=101*c+a.charCodeAt(u++)>>>0;return"go"+c})(i));if(!kt[o]){let a=i!==e?e:(u=>{let c,h,f=[{}];for(;c=vv.exec(u.replace(yv,""));)c[4]?f.shift():c[3]?(h=c[3].replace(vc," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][c[1]]=c[2].replace(vc," ").trim();return f[0]})(e);kt[o]=Qt(s?{["@keyframes "+o]:a}:a,n?"":"."+o)}let l=n&&kt.g?kt.g:null;return n&&(kt.g=kt[o]),((a,u,c,h)=>{h?u.data=u.data.replace(h,a):u.data.indexOf(a)===-1&&(u.data=c?a+u.data:u.data+a)})(kt[o],t,r,l),o},_v=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let l=o(n),a=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=a?"."+a:l&&typeof l=="object"?l.props?"":Qt(l,""):l===!1?"":l}return r+s+(o??"")},"");function Ji(e){let t=this||{},n=e.call?e(t.p):e;return wv(n.unshift?n.raw?_v(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,gv(t.target),t.g,t.o,t.k)}let sf,Rl,Ll;Ji.bind({g:1});let Lt=Ji.bind({k:1});function xv(e,t,n,r){Qt.p=t,sf=e,Rl=n,Ll=r}function cn(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),a=l.className||s.className;n.p=Object.assign({theme:Rl&&Rl()},l),n.o=/ *go\d+/.test(a),l.className=Ji.apply(n,r)+(a?" "+a:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Ll&&u[0]&&Ll(l),sf(u,l)}return s}}var kv=e=>typeof e=="function",Al=(e,t)=>kv(e)?e(t):e,Sv=(()=>{let e=0;return()=>(++e).toString()})(),jv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ev=20,of=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Ev)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return of(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Cv=[],$o={toasts:[],pausedAt:void 0},Da=e=>{$o=of($o,e),Cv.forEach(t=>{t($o)})},bv=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Sv()}),xs=e=>(t,n)=>{let r=bv(t,e,n);return Da({type:2,toast:r}),r.id},Ve=(e,t)=>xs("blank")(e,t);Ve.error=xs("error");Ve.success=xs("success");Ve.loading=xs("loading");Ve.custom=xs("custom");Ve.dismiss=e=>{Da({type:3,toastId:e})};Ve.remove=e=>Da({type:4,toastId:e});Ve.promise=(e,t,n)=>{let r=Ve.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Al(t.success,s):void 0;return i?Ve.success(i,{id:r,...n,...n==null?void 0:n.success}):Ve.dismiss(r),s}).catch(s=>{let i=t.error?Al(t.error,s):void 0;i?Ve.error(i,{id:r,...n,...n==null?void 0:n.error}):Ve.dismiss(r)}),e};var Tv=Lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Nv=Lt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pv=Lt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ov=cn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Nv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Pv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$v=Lt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Rv=cn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$v} 1s linear infinite;
`,Lv=Lt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Av=Lt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Iv=cn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Av} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Dv=cn("div")`
  position: absolute;
`,Mv=cn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zv=Lt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Uv=cn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fv=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?b.createElement(Uv,null,t):t:n==="blank"?null:b.createElement(Mv,null,b.createElement(Rv,{...r}),n!=="loading"&&b.createElement(Dv,null,n==="error"?b.createElement(Ov,{...r}):b.createElement(Iv,{...r})))},Bv=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Hv=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Vv="0%{opacity:0;} 100%{opacity:1;}",Wv="0%{opacity:1;} 100%{opacity:0;}",Kv=cn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Qv=cn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qv=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=jv()?[Vv,Wv]:[Bv(n),Hv(n)];return{animation:t?`${Lt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};b.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?qv(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(Fv,{toast:e}),o=b.createElement(Qv,{...e.ariaProps},Al(e.message,e));return b.createElement(Kv,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});xv(b.createElement);Ji`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Le=Ve;function Gv(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),s=c=>{c.preventDefault(),t(!0)},i=()=>{t(!1)},o=async c=>{c.preventDefault(),t(!1);const h=c.dataTransfer.files[0];h&&h.type==="text/csv"?await a(h):Le.error("Please upload a CSV file")},l=async c=>{var f;const h=(f=c.target.files)==null?void 0:f[0];h&&await a(h)},a=async c=>{r(!0);try{await fv(c),Le.success("Leads imported successfully")}catch(h){Le.error(h.message||"Failed to import leads")}finally{r(!1)}},u=async()=>{try{await pv(),Le.success("Leads exported successfully")}catch(c){Le.error(c.message||"Failed to export leads")}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-medium",children:"Import/Export Leads"}),d.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:[d.jsx(zm,{size:20}),"Export CSV"]})]}),d.jsx("div",{onDragOver:s,onDragLeave:i,onDrop:o,className:`
          border-2 border-dashed rounded-lg p-8 text-center
          ${e?"border-blue-500 bg-blue-50":"border-gray-300"}
        `,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:d.jsx(Rh,{size:32,className:"text-gray-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium",children:"Drop your CSV file here"}),d.jsx("p",{className:"text-sm text-gray-500",children:"or"}),d.jsxs("label",{className:"mt-2 inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 cursor-pointer",children:[d.jsx(Jm,{size:20}),"Choose File",d.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:l,disabled:n})]})]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supported format: CSV"})]})}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"font-medium mb-2",children:"CSV Format Requirements"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Your CSV file should include these columns (headers must match exactly):"}),d.jsxs("ul",{className:"mt-2 text-sm text-gray-600 list-disc list-inside",children:[d.jsx("li",{children:"business_name (required)"}),d.jsx("li",{children:"contact_name"}),d.jsx("li",{children:"email"}),d.jsx("li",{children:"phone"}),d.jsx("li",{children:"website"}),d.jsx("li",{children:"address"}),d.jsx("li",{children:"zip_code"}),d.jsx("li",{children:"business_type"})]})]})]})}const yc=["Office","Hospital","Clinic","School","Public Service","Realtor","Restaurant","Retail","Warehouse","Other"],Ro={New:"bg-blue-100 text-blue-800",Contacted:"bg-yellow-100 text-yellow-800",Responded:"bg-purple-100 text-purple-800","Not Interested":"bg-red-100 text-red-800",Converted:"bg-green-100 text-green-800"},Rr={business_name:"",contact_name:"",email:"",phone:"",website:"",address:"",zip_code:"",business_type:"",status:"New",notes:""};function Jv({viewMode:e}){const[t,n]=b.useState([]),[r,s]=b.useState("leads"),[i,o]=b.useState({status:"",businessType:"",contacted:"",dateRange:"all"}),[l,a]=b.useState(!1),[u,c]=b.useState(null),[h,f]=b.useState(Rr);b.useEffect(()=>{v()},[]),b.useEffect(()=>{l&&x()},[l]);const v=async()=>{const{data:{session:y}}=await Et.auth.getSession();a(!!y)},x=async()=>{const{data:y,error:j}=await Et.from("leads").select("*").order("created_at",{ascending:!1});if(j){Le.error("Failed to fetch leads");return}n(y||[])},w=b.useCallback(y=>{const{name:j,value:G}=y.target;f(M=>({...M,[j]:G}))},[]),C=async y=>{if(y.preventDefault(),!h.business_name){Le.error("Business name is required");return}const{error:j}=await Et.from("leads").insert([{...h,created_at:new Date().toISOString()}]);if(j){Le.error("Failed to create lead");return}Le.success("Lead created successfully"),f(Rr),s("leads"),x()},m=async y=>{const{error:j}=await Et.from("leads").update(h).eq("id",y);if(j){Le.error("Failed to update lead");return}Le.success("Lead updated successfully"),c(null),f(Rr),x()},p=y=>{c(y.id),f(y)},g=async(y,j)=>{const{error:G}=await Et.from("leads").update({status:j,last_contact_date:j==="Contacted"?new Date().toISOString():void 0}).eq("id",y);if(G){Le.error("Failed to update lead status");return}Le.success("Lead status updated"),x()},_=async()=>{const{error:y}=await Et.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});y&&Le.error("Failed to login. Please try again.")},E=()=>d.jsxs("form",{onSubmit:C,className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Create New Lead"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name *"}),d.jsx("input",{type:"text",name:"business_name",value:h.business_name,onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter business name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),d.jsx("input",{type:"text",name:"contact_name",value:h.contact_name||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter contact name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:h.email||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),d.jsx("input",{type:"tel",name:"phone",value:h.phone||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter phone number"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),d.jsx("input",{type:"url",name:"website",value:h.website||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter website URL"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Type"}),d.jsxs("select",{name:"business_type",value:h.business_type||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:"Select type"}),yc.map(y=>d.jsx("option",{value:y,children:y},y))]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",name:"address",value:h.address||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter address"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),d.jsx("input",{type:"text",name:"zip_code",value:h.zip_code||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter ZIP code"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),d.jsx("textarea",{name:"notes",value:h.notes||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"Enter notes"})]})]}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx("button",{type:"button",onClick:()=>{f(Rr),s("leads")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Create Lead"})]})]}),$=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("select",{value:i.status,onChange:y=>o(j=>({...j,status:y.target.value})),className:"p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:"All Statuses"}),Object.keys(Ro).map(y=>d.jsx("option",{value:y,children:y},y))]}),d.jsxs("select",{value:i.businessType,onChange:y=>o(j=>({...j,businessType:y.target.value})),className:"p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:"All Business Types"}),yc.map(y=>d.jsx("option",{value:y,children:y},y))]}),d.jsxs("select",{value:i.dateRange,onChange:y=>o(j=>({...j,dateRange:y.target.value})),className:"p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"all",children:"All Time"}),d.jsx("option",{value:"today",children:"Today"}),d.jsx("option",{value:"week",children:"This Week"}),d.jsx("option",{value:"month",children:"This Month"})]}),d.jsx("button",{onClick:()=>o({status:"",businessType:"",contacted:"",dateRange:"all"}),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-full",title:"Clear Filters",children:d.jsx(_n,{size:20})})]}),d.jsxs("button",{onClick:()=>{f(Rr),s("create")},className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[d.jsx(Pa,{size:20}),"Add Lead"]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(y=>d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-medium",children:y.business_name}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ro[y.status]}`,children:y.status}),y.last_contact_date&&d.jsxs("span",{className:"text-xs text-gray-500",children:["Last Contact: ",new Date(y.last_contact_date).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[u===y.id?d.jsx("button",{onClick:()=>m(y.id),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-full",title:"Save Changes",children:d.jsx(Qm,{size:20})}):d.jsx("button",{onClick:()=>p(y),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-full",title:"Edit Lead",children:d.jsx(Wm,{size:20})}),d.jsx("select",{value:y.status,onChange:j=>g(y.id,j.target.value),className:"p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Object.keys(Ro).map(j=>d.jsx("option",{value:j,children:j},j))})]})]}),u===y.id?d.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[d.jsx("input",{type:"text",name:"contact_name",value:h.contact_name||"",onChange:w,className:"p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contact Name"}),d.jsx("input",{type:"email",name:"email",value:h.email||"",onChange:w,className:"p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Email"}),d.jsx("input",{type:"tel",name:"phone",value:h.phone||"",onChange:w,className:"p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Phone"}),d.jsx("input",{type:"text",name:"website",value:h.website||"",onChange:w,className:"p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Website"}),d.jsx("div",{className:"col-span-2",children:d.jsx("input",{type:"text",name:"address",value:h.address||"",onChange:w,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Address"})}),d.jsx("textarea",{name:"notes",value:h.notes||"",onChange:w,className:"col-span-2 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Notes"})]}):d.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Contact"}),d.jsx("p",{children:y.contact_name||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Phone"}),d.jsx("p",{children:y.phone||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Email"}),d.jsx("p",{className:"truncate",children:y.email||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Type"}),d.jsx("p",{children:y.business_type})]}),d.jsxs("div",{className:"col-span-2 md:col-span-4",children:[d.jsx("p",{className:"font-medium",children:"Address"}),d.jsx("p",{className:"truncate",children:y.address||"N/A"})]}),y.notes&&d.jsxs("div",{className:"col-span-2 md:col-span-4 bg-gray-50 p-2 rounded",children:[d.jsx("p",{className:"font-medium",children:"Notes"}),d.jsx("p",{children:y.notes})]})]})]},y.id))})]});return d.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Lead Management"}),l?d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("button",{onClick:()=>Et.auth.signOut(),className:"text-gray-600 hover:text-gray-800",children:"Sign Out"})}):d.jsx("button",{onClick:_,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Login with Google"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex gap-4 border-b mb-6",children:[d.jsx("button",{onClick:()=>s("leads"),className:`pb-4 px-2 font-medium ${r==="leads"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Leads"}),d.jsx("button",{onClick:()=>s("create"),className:`pb-4 px-2 font-medium ${r==="create"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Create Lead"}),d.jsx("button",{onClick:()=>s("import"),className:`pb-4 px-2 font-medium ${r==="import"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Import/Export"})]}),r==="leads"&&d.jsx($,{}),r==="create"&&d.jsx(E,{}),r==="import"&&d.jsx(Gv,{})]})]})})}function Yv({viewMode:e,userRole:t}){var i;const[n,r]=b.useState(null),s=[{icon:$h,title:"Calendar",description:"Schedule and manage moves",component:ig},{icon:Fm,title:"Route Planning",description:"Plan and optimize moving routes",component:ng},{icon:Oa,title:"Lead Management",description:"Manage and track leads",component:Jv},{icon:Xm,title:"Inventory",description:"Track warehouse inventory"},{icon:Bm,title:"Communications",description:"Team messaging and notifications"},{icon:Rh,title:"Reports",description:"Generate and view reports"}];if(n){const o=(i=s.find(l=>l.title===n))==null?void 0:i.component;return d.jsx("div",{className:"fixed inset-0 bg-white",children:o&&d.jsx(o,{viewMode:e})})}return d.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("header",{className:"text-center mb-12 pt-16",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"MoveBuddy"}),d.jsx("p",{className:"text-gray-600",children:t==="manager"?"Manager Dashboard":"Employee Dashboard"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(({icon:o,title:l,description:a})=>d.jsxs("div",{onClick:()=>r(l),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:d.jsx(o,{className:"text-blue-600",size:24})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l})]}),d.jsx("p",{className:"text-gray-600",children:a})]},l))})]})})}function Xv(){const[e,t]=b.useState("desktop"),[n,r]=b.useState("manager");return d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsx(Zm,{viewMode:e,setViewMode:t}),d.jsx(eg,{userRole:n,setUserRole:r}),d.jsx(Yv,{viewMode:e,userRole:n})]})}Oh(document.getElementById("root")).render(d.jsx(b.StrictMode,{children:d.jsx(Xv,{})}));export{Zv as g};
